(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{29:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"f",function(){return s}),n.d(t,"e",function(){return l}),n.d(t,"i",function(){return i}),n.d(t,"c",function(){return u}),n.d(t,"g",function(){return d}),n.d(t,"a",function(){return m}),n.d(t,"d",function(){return p}),n.d(t,"h",function(){return f});var a=!0;function r(){var e=localStorage.getItem("is_scrobbling");return null!==e?"true"===e:a}function s(e){localStorage.setItem("is_scrobbling",e)}var o=1;function l(){var e=localStorage.getItem("volume");return null!==e?parseFloat(e):o}function i(e){localStorage.setItem("volume",e)}var c=!0;function u(){var e=localStorage.getItem("is_shuffling");return null!==e?"true"===e:c}function d(e){localStorage.setItem("is_shuffling",e)}var m=[{key:"/latest",icon:"clock-o",text:"Recently Added"},{key:"/artists",icon:"group",text:"Artists"},{key:"/album",icon:"th2",text:"Albums"},{key:"/genres",icon:"venus-mars",text:"Genres"},{key:"/favourites",icon:"star",text:"Favourites"}];function p(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=m;if(!e){var n=localStorage.getItem("sidebar_settings");null!==n&&(n=JSON.parse(n),t=m.filter(function(e){return n.includes(e.key)}))}return t}function f(e){localStorage.setItem("sidebar_settings",JSON.stringify(e.map(function(e){return e.key})))}},320:function(e,t,n){e.exports=n(608)},387:function(e,t,n){},474:function(e,t,n){},475:function(e,t,n){},476:function(e,t,n){},478:function(e,t,n){},565:function(e,t,n){},577:function(e,t,n){},578:function(e,t,n){},579:function(e,t,n){},586:function(e,t,n){},587:function(e,t,n){},588:function(e,t,n){},589:function(e,t){e.exports={lightOrange:{"base-color":"#ff3d00"},darkOrange:{"base-color":"#ff3d00"},lightBlue:{"base-color":"#3498ff"},darkBlue:{"base-color":"#3498ff"},lightGreen:{"base-color":"#429321"},darkGreen:{"base-color":"#429321"},lightGrey:{"base-color":"#607d8b"},darkGrey:{"base-color":"#607d8b"}}},590:function(e,t,n){},607:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(26),o=n.n(s);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=n(13),i=n(15),c=n(17),u=n(16),d=n(18),m=n(11),p=n(21),f=n(14),g=n.n(f),h=n(20),y=n(7),b=n(8);function v(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a="".concat(e.host,"/rest/").concat(t,".view?u=").concat(e.user,"&p=").concat(e.password,"&v=").concat(e.version,"&f=json&c=myplayer"),r=Object.keys(n),s=function(){var e=r[o],t=n[e];Array.isArray(t)?a+=t.map(function(t){return"&".concat(e,"=").concat(encodeURIComponent(t))}).join(""):a+="&".concat(e,"=").concat(encodeURIComponent(t))},o=r.length-1;o>=0;o--)s();return a}function E(e){return fetch(e).then(function(e){var t=e.headers.get("content-type");return t&&t.includes("application/json")?e.json():Promise.reject(new Error("".concat(e.status,", ").concat(e.body)))}).then(function(e){var t=e["subsonic-response"];return"ok"===t.status?t:Promise.reject(new Error("".concat(t.error.message)))})}var S=new(function(){function e(t){Object(l.a)(this,e),this.config=t}return Object(i.a)(e,[{key:"setConfig",value:function(e,t,n){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this.config=Object.assign(this.config,{host:e,user:t,password:"enc:".concat(a?this.getEncodedPassword(n):n)})}},{key:"login",value:function(e,t,n){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return E(v({host:e,user:t,password:"enc:".concat(a?this.getEncodedPassword(n):n),version:"1.9.0"},"ping")).then(function(e){return"ok"===e.status})}},{key:"getEncodedPassword",value:function(e){for(var t="",n=0;n<e.length;n++){t+=e.charCodeAt(n).toString(16).slice(-4)}return t}},{key:"getArtists",value:function(){return E(v(this.config,"getArtists")).then(function(e){return e.artists.index})}},{key:"getArtist",value:function(e){return E(v(this.config,"getArtist",{id:e})).then(function(e){return e.artist})}},{key:"getAlbum",value:function(e){return E(v(this.config,"getAlbum",{id:e})).then(function(e){return e.album})}},{key:"getAlbumList2",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:24;return E(v(this.config,"getAlbumList2",Object(b.a)({type:e,size:a,offset:n},t))).then(function(e){return e.albumList2.album||[]})}},{key:"getPlaylists",value:function(){return E(v(this.config,"getPlaylists")).then(function(e){return e.playlists.playlist||[]})}},{key:"getPlaylistById",value:function(e){return E(v(this.config,"getPlaylist",{id:e})).then(function(e){return e.playlist})}},{key:"getCoverArtUrl",value:function(e){return v(this.config,"getCoverArt",{id:e})}},{key:"getStreamUrl",value:function(e){return v(this.config,"stream",{id:e})}},{key:"getDownloadUrl",value:function(e){return v(this.config,"download",{id:e})}},{key:"addSongsToPlaylist",value:function(e,t){return E(v(this.config,"updatePlaylist",{playlistId:e,songIdToAdd:t})).then(function(e){return"ok"===e.status})}},{key:"removeSongsFromPlaylist",value:function(e,t){return E(v(this.config,"updatePlaylist",{playlistId:e,songIndexToRemove:t})).then(function(e){return"ok"===e.status})}},{key:"deletePlaylist",value:function(e){return E(v(this.config,"deletePlaylist",{id:e})).then(function(e){return"ok"===e.status})}},{key:"createPlaylist",value:function(e){return E(v(this.config,"createPlaylist",{name:e})).then(function(e){return"ok"===e.status})}},{key:"updatePlaylist",value:function(e,t,n,a){return E(v(this.config,"updatePlaylist",{playlistId:e,name:t,comment:n,public:a})).then(function(e){return"ok"===e.status})}},{key:"search",value:function(e){return E(v(this.config,"search3",{query:e,albumCount:24})).then(function(e){return e.searchResult3})}},{key:"getStarred",value:function(){return E(v(this.config,"getStarred2")).then(function(e){return e.starred2})}},{key:"unstar",value:function(e){return E(v(this.config,"unstar",{id:e})).then(function(e){return"ok"===e.status})}},{key:"star",value:function(e){return E(v(this.config,"star",{id:e})).then(function(e){return"ok"===e.status})}},{key:"starAlbums",value:function(e){return E(v(this.config,"star",{albumId:e})).then(function(e){return"ok"===e.status})}},{key:"unstarAlbums",value:function(e){return E(v(this.config,"unstar",{albumId:e})).then(function(e){return"ok"===e.status})}},{key:"getSongsByGenre",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500;return E(v(this.config,"getSongsByGenre",{genre:e,count:n,offset:t})).then(function(e){return e.songsByGenre.song})}},{key:"getGenres",value:function(){return E(v(this.config,"getGenres")).then(function(e){return e.genres.genre})}},{key:"scrobble",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return E(v(this.config,"scrobble",{id:e,time:t,submission:n})).then(function(e){return"ok"===e.status})}}]),e}())({host:null,user:null,password:null,version:"1.9.0"}),O="ALERT_TYPE_SUCCESS",j="ALERT_TYPE_WARNING",k="ALERT_TYPE_ERROR";function x(e){return{alert:{type:O,message:e}}}function w(){return{type:y.c}}function C(e){return e?Object(b.a)({type:y.g},x(e)):{type:y.g}}function I(e){return e?Object(b.a)({type:y.g},function(e){return{alert:{type:j,message:e}}}(e)):{type:y.g}}function P(e){return e?Object(b.a)({type:y.g},function(e){return{alert:{type:k,message:e}}}(e)):{type:y.g}}function A(e){return{type:y.n,payload:{playlists:e}}}function T(e,t){return{type:y.a,payload:{playlist:e,songsAdded:t}}}function _(e,t){return function(){var n=Object(h.a)(g.a.mark(function n(a){var r,s,o,l,i,c,u;return g.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a(w()),n.prev=1,n.next=4,S.getPlaylistById(e.id);case 4:if(r=n.sent,s=r.entry?new Set(r.entry.map(function(e){return e.id})):new Set,o=t.filter(function(e){return!s.has(e.id)}),l=o.length,i=t.length,!(l>0)){n.next=16;break}return n.next=12,S.addSongsToPlaylist(r.id,o.map(function(e){return e.id}));case 12:n.sent?(c="".concat(l," song(s) added to ").concat(e.name,"."),l!==t.length&&(c+=" ".concat(t.length-l," already added.")),a(T(e,o)),a(C(c))):(u="Unable to add ".concat(l," song(s) to ").concat(e.name,"."),l!==i&&(u+=" ".concat(i-l," already added.")),a(P(u))),n.next=17;break;case 16:a(I("All song(s) already in ".concat(r.name)));case 17:n.next=23;break;case 19:n.prev=19,n.t0=n.catch(1),console.error(n.t0),a(P("Unable to add songs to playlist"));case 23:case"end":return n.stop()}},n,null,[[1,19]])}));return function(e){return n.apply(this,arguments)}}()}function N(e,t){return{type:y.y,payload:{playlist:e,removedSongs:t}}}function M(e){return{type:y.e,payload:{playlist:e}}}function L(e,t,n,a){return{type:y.f,payload:{id:e,name:t,comment:n,public:a}}}function D(e){return{type:y.o,payload:{playlist:e}}}var U=n(619),F=n(640),R=n(641),G=n(642),B=n(643),K=n(29),Q=n(625),H=n(31),q=n(324),Y=n(49);function z(e){return{type:y.A,payload:e}}function V(e){return function(){var t=Object(h.a)(g.a.mark(function t(n){var a;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n(w()),t.prev=1,t.next=4,S.search(e);case 4:a=t.sent,n(z(a)),n(C()),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),console.error(t.t0),n(P("Unable to perform search"));case 13:case"end":return t.stop()}},t,null,[[1,9]])}));return function(e){return t.apply(this,arguments)}}()}var W=n(612),J=n(157),X=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).performSearch=function(){n.props.onSearch&&n.props.onSearch(n.query)},n.handleKeyDown=function(e){"Enter"===e.key&&n.performSearch()},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(W.a,{inside:!0,size:this.props.size,style:this.props.style},r.a.createElement(J.a,{id:"queryBar",placeholder:"Search",onChange:function(t){e.query=t},onKeyDown:this.handleKeyDown}),r.a.createElement(W.a.Button,{id:"searchButton",onClick:this.performSearch},r.a.createElement(H.a,{icon:"search"})))}}]),t}(r.a.PureComponent);X.defaultProps={size:"lg"};var $=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).performSearch=function(e){e&&(n.props.search(e),Object(p.d)("/search"))},n.render=function(){return r.a.createElement(X,Object.assign({},n.props,{onSearch:n.performSearch}))},n}return Object(d.a)(t,e),t}(r.a.Component),Z=Object(m.b)(null,{search:V})($),ee=(n(387),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).showCreatePlaylistModal=function(){n.props.onCreatePlaylistTrigger&&n.props.onCreatePlaylistTrigger()},n.onRouteSelected=function(e){Object(p.d)(e)},n.onShowSettings=function(){Object(p.d)("/settings")},n.itemsToDisplay=K.d(),n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.playlists,t=this.props.currentLocation;return r.a.createElement("div",{className:"subsidebar rs-sidenav-default"},r.a.createElement(Z,null),r.a.createElement(Q.a,{activeKey:t,onSelect:this.onRouteSelected,vertical:!0},r.a.createElement(Q.a.Item,{panel:!0},r.a.createElement("h6",{className:"section-header"},"Library")),this.itemsToDisplay.map(function(e){return r.a.createElement(Q.a.Item,{key:e.key,eventKey:e.key,icon:r.a.createElement(H.a,{icon:e.icon})},e.text)}),r.a.createElement(Q.a.Item,{panel:!0},r.a.createElement("h6",{className:"section-header"},"Playlists (",Object.keys(e).length,")"))),r.a.createElement(Q.a,{activeKey:t,onSelect:this.onRouteSelected,className:"playlists-container",vertical:!0},Object.keys(e).map(function(t){return r.a.createElement(Q.a.Item,{key:t,"data-pid":t,eventKey:"/playlist/".concat(t)},e[t].name," (",e[t].songCount,")")})),r.a.createElement(Q.a,{activeKey:t,onSelect:this.onRouteSelected,vertical:!0},r.a.createElement(q.a,{className:"footer-divider"}),r.a.createElement(Q.a.Item,{panel:!0},r.a.createElement(Y.a,{id:"createPlaylistButton",appearance:"ghost",block:!0,onClick:this.showCreatePlaylistModal},"Create new playlist")),r.a.createElement(Q.a.Item,{panel:!0},r.a.createElement(Y.a,{id:"settingsButton",appearance:"link",block:!0,onClick:this.onShowSettings},"Settings"))))}}]),t}(r.a.Component));ee.defaultProps={playlists:{}};var te=Object(m.b)(function(e){return{playlists:e.playlists.byId}},null)(function(e){var t=e;return r.a.createElement(p.a,null,function(e){var n=e.location.pathname;return r.a.createElement(ee,Object.assign({},t,{currentLocation:n}))})}),ne=n(614),ae=n(622),re=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).onNavSelected=function(e){switch(e){case"newPlaylist":n.props.onCreatePlaylistTrigger&&n.props.onCreatePlaylistTrigger();break;default:Object(p.d)(e)}},n.itemsToDisplay=K.d(!0),n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.playlists,t=this.props.currentLocation;return r.a.createElement(ne.a,null,r.a.createElement(ne.a.Body,null,r.a.createElement(Q.a,{activeKey:t,onSelect:this.onNavSelected},r.a.createElement(Q.a.Item,{id:"search",eventKey:"/search",icon:r.a.createElement(H.a,{icon:"search"})}),r.a.createElement(ae.a,{id:"library",title:"Library"},this.itemsToDisplay.map(function(e){return r.a.createElement(ae.a.Item,{key:e.key,eventKey:e.key,icon:r.a.createElement(H.a,{icon:e.icon})},e.text)})),r.a.createElement(ae.a,{id:"playlists",title:"Playlists"},r.a.createElement(ae.a.Item,{id:"createPlaylist",eventKey:"newPlaylist",icon:r.a.createElement(H.a,{icon:"plus"})},"New playlist"),Object.keys(e).map(function(t){return r.a.createElement(ae.a.Item,{key:t,eventKey:"/playlist/".concat(t)},e[t].name," (",e[t].songCount,")")}))),r.a.createElement(Q.a,{activeKey:t,onSelect:this.onNavSelected,pullRight:!0},r.a.createElement(Q.a.Item,{id:"settings",eventKey:"/settings",icon:r.a.createElement(H.a,{icon:"cog"})}))))}}]),t}(r.a.Component);re.defaultProps={playlists:{}};var se=Object(m.b)(function(e){return{playlists:e.playlists.byId}},null)(function(e){var t=e;return r.a.createElement(p.a,null,function(e){var n=e.location.pathname;return r.a.createElement(re,Object.assign({},t,{currentLocation:n}))})});function oe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:y.x,payload:{songs:e,songToPlay:t}}}function le(e){return{type:y.B,payload:{song:e}}}function ie(e){return{type:y.l,payload:{songs:e}}}function ce(e,t){return{type:y.D,payload:{songIds:e,starred:t}}}function ue(e,t){return function(){var n=Object(h.a)(g.a.mark(function n(a){var r,s,o;return g.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(a(w()),0!==(r=e.filter(function(e){return!e.starred===t}).map(function(e){return e.id})).length){n.next=6;break}a(I("All songs are already in favourites")),n.next=28;break;case 6:if(n.prev=6,s=null,o=null,!t){n.next=17;break}return n.next=12,S.star(r);case 12:s=n.sent,o=s?"Songs added to favs!":"Unable to add songs",t=(new Date).toISOString(),n.next=21;break;case 17:return n.next=19,S.unstar(r);case 19:s=n.sent,o=s?"Songs removed from favs!":"Unable to remove songs";case 21:s?(a(ce(r,t)),a(C(o))):a(P(o)),n.next=28;break;case 24:n.prev=24,n.t0=n.catch(6),console.error(n.t0),a(P("Could not change ".concat(r.length," songs")));case 28:case"end":return n.stop()}},n,null,[[6,24]])}));return function(e){return n.apply(this,arguments)}}()}var de=n(34),me=function(e){return e.musicPlayer.songsById},pe=Object(de.a)([function(e){return e.musicPlayer.currentSongId},me],function(e,t){return t[e]}),fe=Object(de.a)([function(e){return e.musicPlayer.queue},function(e){return e.musicPlayer.currentSongIndex},me],function(e,t,n){return null!==t?e.slice(t).map(function(e){return n[e]}):[]}),ge=n(79),he=n(299);function ye(e){var t="0:00";return isNaN(e)||(t=(e-(e%=60))/60+(9<e?":":":0")+e),t}function be(e){var t="-";if(!isNaN(e)){e=Number(e);var n=Math.floor(e/86400),a=Math.floor(e%86400/3600),r=Math.floor(e%3600/60);t=(n>0?n+(1===n?" day ":" days "):"")+(a>0?a+(1===a?" hr ":" hrs "):"")+(r>0?r+" mins":"")}return t}var ve=n(323),Ee=n(215),Se=(n(473),n(474),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).initializeCastPlayer=function(){var e={receiverApplicationId:"CC1AD845"};e.autoJoinPolicy=chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED,e.androidReceiverCompatible=!0,cast.framework.CastContext.getInstance().setOptions(e),n.castPlayer=new cast.framework.RemotePlayer,n.castPlayerController=new cast.framework.RemotePlayerController(n.castPlayer),n.castPlayerController.addEventListener(cast.framework.RemotePlayerEventType.IS_CONNECTED_CHANGED,function(e){var t=e.value;this.setState({isCastConnected:t},function(){console.log("Chromecast connection: ",t)})}.bind(Object(ge.a)(n))),n.castPlayerController.addEventListener(cast.framework.RemotePlayerEventType.PLAYER_STATE_CHANGED,function(e){console.log("Chromecast is "+e.value),this.setState({castPlayerState:e.value}),"PAUSED"===e.value&&this.state.playing?this.setState({playing:!1}):"PLAYING"!==e.value||this.state.playing||!this.state.song&&this.castPlayer&&this.castPlayer.mediaInfo&&(this.setState({playing:!0,song:{id:this.castPlayer.mediaInfo.contentId,title:this.castPlayer.mediaInfo.metadata.title,duration:Math.ceil(this.castPlayer.mediaInfo.duration)}}),this.streamer=this.cast())}.bind(Object(ge.a)(n))),n.castPlayerController.addEventListener(cast.framework.RemotePlayerEventType.CURRENT_TIME_CHANGED,function(){this.castPlayer&&this.setState({tick:Math.ceil(this.castPlayer.currentTime)})}.bind(Object(ge.a)(n))),n.castPlayerController.addEventListener(cast.framework.RemotePlayerEventType.QUEUE_DATA_CHANGED,function(){var e=this;if(this.castPlayer&&this.castPlayer.mediaInfo&&this.state.castQueueSongs){var t=this.state.castQueueSongs.find(function(t){return e.castPlayer.mediaInfo.contentId==t.id});console.log("nextSongFromCastQueue "+t),this.setState({nextSongFromCastQueue:t}),t&&this.props.seekToSongInQueue(t)}}.bind(Object(ge.a)(n)))},n.cast=function(e,t){if(e&&e!=t&&e.some(function(e){return!t.some(function(t){return t.id==e.id})})||e&&!n.state.nextSongFromCastQueue){var a=new chrome.cast.media.QueueLoadRequest(e.map(function(e){var t=new chrome.cast.media.MediaInfo(e.id,"audio/mp3");return t.contentUrl=S.getStreamUrl(e.id),t.streamType=chrome.cast.media.StreamType.BUFFERED,t.duration=e.duration,t.metadata=new chrome.cast.media.MusicTrackMediaMetadata,t.metadata.title=e.title,t.metadata.artist=e.artist,t.metadata.albumName=e.album,e.coverArt&&(t.metadata.images=[new chrome.cast.Image(S.getCoverArtUrl(e.coverArt))]),new chrome.cast.media.QueueItem(t)})),r=cast.framework.CastContext.getInstance().getCurrentSession();r?r.getSessionObj().queueLoad(a,function(){console.log("Queue cast is loaded")},function(e){console.log(e)}):console.log("No cast session is available")}return n.setState({nextSongFromCastQueue:null,castQueueSongs:e&&e.length>0?e.slice(1):[]}),{play:function(){cast.framework.CastContext.getInstance().getCurrentSession()&&"PLAYING"!=n.state.castPlayerState&&(console.log("CAST PLAY"),n.castPlayerController.playOrPause())},pause:function(){cast.framework.CastContext.getInstance().getCurrentSession()&&"PLAYING"==n.state.castPlayerState&&(console.log("CAST PAUSE"),n.castPlayerController.playOrPause())},stop:function(){cast.framework.CastContext.getInstance().getCurrentSession()&&!n.state.castQueueSongs&&(console.log("CAST STOP"),n.castPlayer.currentTime=0,n.castPlayerController.seek(),n.castPlayerController.stop())},seek:function(e){if(cast.framework.CastContext.getInstance().getCurrentSession()){if(void 0==e)return n.castPlayer.currentTime;n.castPlayer.currentTime=e,n.castPlayerController.seek()}},unload:function(){},volume:function(e){cast.framework.CastContext.getInstance().getCurrentSession()&&(n.castPlayer.volumeLevel=e,n.castPlayerController.setVolumeLevel())}}},n.onSeeking=function(e){n.streamer&&(n.isSeeking=!0,n.setState({tick:e}))},n.onSeekingStopped=function(e){n.isSeeking&&(n.isSeeking=!1,n.streamer.seek(e),n.setState({tick:e}))},n.changeVolume=function(e){n.streamer&&n.streamer.volume(e),n.setState({volume:e}),n.volumeBeforeMutting=e,K.i(e)},n.toggleMute=function(){n.state.isMuted?(n.streamer&&n.streamer.volume(n.volumeBeforeMutting),n.setState({volume:n.volumeBeforeMutting,isMuted:!1})):(n.streamer&&n.streamer.volume(0),n.setState({volume:0,isMuted:!0}))},n.togglePlayerState=function(){n.streamer&&(n.state.playing?n.streamer.pause():n.streamer.play(),n.setState({playing:!n.state.playing}))},n.toggleStarOnSong=function(){n.props.song&&n.props.setStarOnSongs&&n.props.setStarOnSongs([n.props.song],!n.props.song.starred)},n.toggleShuffle=function(){n.props.toggleShuffle(!n.props.isShuffleOn)},n.goToQueueView=function(){Object(p.d)("/queue/")},n.goToArtist=function(e){Object(p.d)("/artists/".concat(e))},n.goToAlbum=function(e){e&&Object(p.d)("/album/".concat(e))},n.playNextSong=function(){n.props.playNextSong&&n.props.playNextSong()},n.playPreviousSong=function(){n.state.playing&&((n.streamer?n.streamer.seek():0)<=3?n.props.playPreviousSong&&n.props.playPreviousSong():(n.streamer.seek(0),n.tick()))},n.clearMusicPlayer=function(){n.streamer&&(n.streamer.stop(),n.streamer.unload()),clearInterval(n.timerID),n.state.playing&&!n.state.song&&n.setState({playing:!1,tick:0})},n.state={playing:!1,tick:0,isMuted:!1,volume:K.e(),isCastConnected:!1,castPlayerState:null,nextSongFromCastQueue:null,song:null,castQueueSongs:[]},n.volumeBeforeMutting=1,n.isSeeking=!1,n.castPlayer=null,n.castPlayerController=null,n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.__onGCastApiAvailable=function(t){t&&cast?e.initializeCastPlayer():console.log("Was not able to initialize CastPlayer")};var t=document.createElement("script");t.src="https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1",t.async=!0,document.body.appendChild(t),"mediaSession"in navigator&&(navigator.mediaSession.setActionHandler("previoustrack",this.playPreviousSong),navigator.mediaSession.setActionHandler("nexttrack",this.playNextSong),navigator.mediaSession.setActionHandler("play",this.togglePlayerState),navigator.mediaSession.setActionHandler("pause",this.togglePlayerState))}},{key:"componentDidUpdate",value:function(e){if(this.props.song){var t=this.props.playNextSong,n=e.song?e.song:{};if(this.props.song.id!==n.id){var a=K.b();this.clearMusicPlayer(),a&&this.isTickingEnoughToScrobble(n,this.state.tick)&&S.scrobble(n.id,Date.now(),!0);var r=this.props.song;this.state.isCastConnected?this.streamer=this.cast(this.props.songs,e.songs):this.streamer=new he.Howl({src:[S.getStreamUrl(r.id)],ext:["mp3"],preload:!1,pool:2,autoplay:!0,html5:!0,volume:this.state.volume,onend:function(){t()}}),this.streamer.play(),this.startSongTicker(),this.isSeeking=!1,this.setState({playing:!0,tick:0}),document.title="".concat(r.title," - ").concat(r.artist),a&&S.scrobble(r.id,Date.now(),!1)}}else this.clearMusicPlayer(),document.title="SubPlayer"}},{key:"startSongTicker",value:function(){var e=this;clearInterval(this.timerID),this.timerID=setInterval(function(){e.state.playing&&e.tick()},1e3)}},{key:"tick",value:function(){this.isSeeking||this.setState({tick:Math.ceil(this.streamer.seek())})}},{key:"isTickingEnoughToScrobble",value:function(e,t){var n=e.duration;return n>30&&(t>=.5*n||t>=240)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerID),this.clearMusicPlayer()}},{key:"render",value:function(){var e=this,t=this.props.song?this.props.song:this.state.song?this.state.song:{},n=this.state.playing,a=this.state.tick,s=t.starred?"star":"star-o",o=this.state.volume,l=this.props.isShuffleOn;return r.a.createElement("div",{className:"music-player"},r.a.createElement("div",{className:"song_metadata_container"},r.a.createElement("img",{id:"song_album",src:t.coverArt?S.getCoverArtUrl(t.coverArt):"/currently_placeholder.png",alt:"cover",width:"45",height:"45",onClick:function(n){return e.goToAlbum(t.albumId)}}),r.a.createElement("div",{style:{overflow:"hidden"}},r.a.createElement("p",{id:"song_name"},r.a.createElement("b",null,t.title)),r.a.createElement("span",{id:"song_artist",className:"artist-link",onClick:function(n){return e.goToArtist(t.artistId)}},t.artist)),r.a.createElement(ve.a,{id:"star_button",icon:r.a.createElement(H.a,{icon:s}),onClick:this.toggleStarOnSong,appearance:"link",size:"lg"})),r.a.createElement("div",{className:"currently_playing_controls"},r.a.createElement(ve.a,{id:"previous_button",icon:r.a.createElement(H.a,{icon:"step-backward"}),appearance:"link",size:"sm",onClick:this.playPreviousSong}),r.a.createElement(ve.a,{id:"play_pause_button",appearance:"primary",icon:r.a.createElement(H.a,{icon:n?"pause":"play"}),circle:!0,size:"sm",onClick:this.togglePlayerState}),r.a.createElement(ve.a,{id:"next_button",icon:r.a.createElement(H.a,{icon:"step-forward"}),appearance:"link",size:"sm",onClick:this.playNextSong})),r.a.createElement("div",{style:{flexGrow:1},className:"rs-hidden-xs"},r.a.createElement("div",{className:"song_progress_bar_container"},r.a.createElement("span",null,ye(a)),r.a.createElement(Ee.a,{className:"rs-slider song_progress_bar",value:a,onChange:this.onSeeking,onAfterChange:this.onSeekingStopped,max:t.duration||0}),r.a.createElement("span",null,ye(t.duration||0)))),r.a.createElement("div",{className:"shuffle_container"},r.a.createElement(ve.a,{id:"shuffle_button",icon:r.a.createElement(H.a,{icon:"random",inverse:!l}),onClick:this.toggleShuffle,appearance:"link",size:"lg"})),r.a.createElement("div",{className:"go_to_queue_container"},r.a.createElement(ve.a,{id:"queue_button",icon:r.a.createElement(H.a,{icon:"bars"}),onClick:this.goToQueueView,appearance:"link",size:"lg"})),r.a.createElement("div",{className:"chromecast-icon"},r.a.createElement("google-cast-launcher",{id:"castbutton"})),r.a.createElement("div",{className:"rs-hidden-xs"},r.a.createElement("div",{className:"volume_controls_container"},r.a.createElement(ve.a,{id:"mute",onClick:this.toggleMute,icon:r.a.createElement(H.a,{className:"volume_control_mute",icon:0===o?"volume-off":"volume-up"}),appearance:"link"}),r.a.createElement(Ee.a,{className:"volume_control_bar",value:o,onChange:this.changeVolume,defaultValue:1,max:1,step:.05}))))}}]),t}(r.a.Component)),Oe={playNextSong:function(){return{type:y.v}},playPreviousSong:function(){return{type:y.w}},seekToSongInQueue:le,setStarOnSongs:ue,toggleShuffle:function(e){return K.g(e),{type:e?y.F:y.E}}},je=Object(m.b)(function(e){return{song:pe(e),songs:fe(e),isShuffleOn:e.musicPlayer.isShuffleOn}},Oe)(Se);n(475);function ke(e){var t=e.isLoading?"initial":"none";return r.a.createElement("div",{className:"loader",style:{display:t,position:"absolute"}})}ke.defaultProps={isLoading:!1};var xe=ke;function we(e){return{type:y.k,payload:{artistsIndex:e}}}var Ce=function(e){return{type:y.q,payload:{songs:e}}};function Ie(e){return Pe.apply(this,arguments)}function Pe(){return(Pe=Object(h.a)(g.a.mark(function e(t){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t.album.map(function(e){return S.getAlbum(e.id)})).then(function(e){return e.reduce(function(e,t){return e.concat(t.song)},[])}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Ae=function(e){return{type:y.m,payload:{artist:e}}};var Te=n(45),_e=Object(de.a)(function(e){return e.artists.byIndex},function(e){return e.reduce(function(e,t){return e.concat([{header:t.name}].concat(Object(Te.a)(t.artist)))},[])}),Ne=(n(476),n(626)),Me=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){var n=!0;if(null!==e.currentSongPlaying&&e.currentSongPlaying.id!==this.props.currentSongPlaying.id){var a=e.currentSongPlaying.artistId,r=this.props.currentSongPlaying.artistId;n=!1,this.props.artist.id===r&&this.props.artist.id!==a&&(n=!0),this.props.artist.id!==r&&this.props.artist.id===a&&(n=!0)}return n}},{key:"render",value:function(){var e=this.props.currentSongPlaying&&this.props.currentSongPlaying.artistId,t=this.props.artist;return r.a.createElement(Ne.a,{id:"name",sm:8,xs:12,className:e===t.id?"link_to_artist currently-playing":"link_to_artist",onClick:function(e){Object(p.d)("/artists/"+t.id)}},t.name," ",r.a.createElement(H.a,{icon:"volume-up"}))}}]),t}(r.a.Component);Me.defaultProps={currentSongPlaying:{},artist:{}};var Le=Object(m.b)(function(e,t){return{currentSongPlaying:pe(e)}},null)(Me);var De=function(e){return r.a.createElement(Ne.a,{key:"loading",sm:24,xs:24}," Loading... ")},Ue=n(303),Fe=n.n(Ue);var Re=function(e){var t=e.name;return r.a.createElement(Ne.a,{sm:24,xs:24},r.a.createElement("h4",{id:"title",className:"artist-header"},t))};var Ge=function(e){function t(e){var n;Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).displayMoreArtists=function(e){var t=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,a=[],s=0,o=!0;do{var l=a.length,i=e+l,c=t[i];a.push(c.header?r.a.createElement(Re,{key:c.header,name:c.header}):r.a.createElement(Le,{key:c.id,artist:c})),s=c.header?0:s+1,(i===t.length-1||l>=n&&s%2===0&&s%3===0)&&(o=!1)}while(o);return a}(n._elementsRendered,n.props.artists);n._elementsRendered+=t.length,n.setState({artistsToDisplay:n.state.artistsToDisplay.concat(t),hasMoreToLoad:n._elementsRendered<n.props.artists.length})};var a=null!==n.props.artists&&n.props.artists.length>0;return n.state={artistsToDisplay:[],hasMoreToLoad:a},n._elementsRendered=0,n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){0===this.props.artists.length&&this.props.loadArtists()}},{key:"componentDidUpdate",value:function(e){0===e.artists.length&&this.props.artists.length>0&&this.setState({hasMoreToLoad:!0})}},{key:"render",value:function(){return r.a.createElement("div",{style:{padding:"20px",display:"flex",flexDirection:"column",height:"100%",overflow:"auto"}},r.a.createElement("h1",{style:{marginBottom:"45px"}},"All artists"),r.a.createElement(Fe.a,{pageStart:0,loadMore:this.displayMoreArtists,hasMore:this.state.hasMoreToLoad,loader:r.a.createElement(De,{key:"loader"}),useWindow:!1},this.state.artistsToDisplay))}}]),t}(r.a.Component);Ge.defaultProps={artists:[],loadArtists:function(){return null}};var Be={loadArtists:function(){return function(){var e=Object(h.a)(g.a.mark(function e(t){var n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(w()),e.prev=1,e.next=4,S.getArtists();case 4:n=e.sent,t(we(n)),t(C()),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0),t(P("Could not load artists"));case 13:case"end":return e.stop()}},e,null,[[1,9]])}));return function(t){return e.apply(this,arguments)}}()}},Ke=Object(m.b)(function(e){return{artists:_e(e)}},Be)(Ge);function Qe(e){return{type:y.j,payload:{album:e}}}function He(e,t){return{type:y.C,payload:{albumIds:e,starred:t}}}function qe(e){return{type:y.i,payload:{albums:e}}}var Ye=function(e){return Object.keys(e.albums.byId).map(function(t){return e.albums.byId[t]})},ze=Object(de.a)([function(e,t){return t.artistId},Ye],function(e,t){return t.filter(function(t){return t.artistId===e})}),Ve=Object(de.a)([Ye],function(e){return e}),We=n(35),Je=n(44),Xe=n(630),$e=n(631),Ze=n(632),et=n(633),tt=n(627);n(478);function nt(e){var t=e.album,n=e.showYear;return r.a.createElement("div",{className:"link_to_album",style:{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center"},onClick:function(e){Object(p.d)("/album/"+t.id)}},r.a.createElement(tt.a,{content:!!t.starred&&r.a.createElement(H.a,{icon:"star"})},r.a.createElement("div",{style:{width:150,height:150,display:"inline-block"}},r.a.createElement("img",{alt:"",src:t.coverArt?S.getCoverArtUrl(t.coverArt):"album_placeholder.jpg",width:"150"}))),r.a.createElement("p",{"data-key":"description"},r.a.createElement("strong",null,t.name),r.a.createElement("br",null),t.artist,n&&" (".concat(t.year,")")))}nt.defaultProps={showYear:!1};var at=nt,rt=n(623),st=n(615),ot=n(628),lt=n(629),it=n(322);function ct(e){var t=e.beginAsyncTask,n=e.asyncTaskSuccess,s=e.asyncTaskError,o=e.onGenreChanged,l=e.displaySongCount,i=Object(Je.a)(e,["beginAsyncTask","asyncTaskSuccess","asyncTaskError","onGenreChanged","displaySongCount"]),c=Object(a.useState)([]),u=Object(We.a)(c,2),d=u[0],m=u[1];Object(a.useEffect)(function(){(function(){var e=Object(h.a)(g.a.mark(function e(){var a;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(),e.prev=1,e.next=4,S.getGenres();case 4:a=e.sent,n(),m(a.map(function(e){return{label:"".concat(e.value," (").concat(l?e.songCount:e.albumCount,")"),value:e}})),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),s("Unable to get genres");case 13:case"end":return e.stop()}},e,null,[[1,9]])}));return function(){return e.apply(this,arguments)}})()()},[t,n,s,l,m]);return r.a.createElement(it.a,Object.assign({},i,{id:"genrePicker",placeholder:"Select genre",onChange:function(e){return o(e)},data:d,cleanable:!1}))}ct.defaultProps={beginAsyncTask:function(){return null},asyncTaskSuccess:function(){return null},asyncTaskError:function(){return null},onGenreChanged:function(){return null},displaySongCount:!1};var ut={beginAsyncTask:w,asyncTaskSuccess:C,asyncTaskError:P},dt=Object(m.b)(null,ut)(ct);var mt=function(e){var t=Object(a.useState)(null),n=Object(We.a)(t,2),s=n[0],o=n[1],l=Object(a.useState)(null),i=Object(We.a)(l,2),c=i[0],u=i[1],d=Object(a.useState)("newest"),m=Object(We.a)(d,2),p=m[0],f=m[1],g="byYear"===p,h="byGenre"===p;return r.a.createElement("div",{style:{display:"inline-flex",flexWrap:"wrap"}},r.a.createElement(st.a,{id:"filterSelection",defaultValue:p,onChange:function(t){f(t),"byYear"!==t&&"byGenre"!==t&&e.onFilterChanged({filter:t})},inline:!0,appearance:"picker"},r.a.createElement(ot.a,{value:"random"},"Random"),r.a.createElement(ot.a,{value:"newest"},"Newest"),r.a.createElement(ot.a,{value:"frequent"},"Frequent"),r.a.createElement(ot.a,{value:"recent"},"Recent"),r.a.createElement(ot.a,{value:"starred"},"Starred"),r.a.createElement(ot.a,{value:"alphabeticalByName"},"By Name"),r.a.createElement(ot.a,{value:"alphabeticalByArtist"},"By Artist"),r.a.createElement(ot.a,{value:"byYear"},"By Year"),r.a.createElement(ot.a,{value:"byGenre"},"By Genre")),h&&r.a.createElement(dt,{id:"genrePicker",onGenreChanged:function(t){null!==t&&e.onFilterChanged({filter:p,genre:t.value})},style:{width:150,marginLeft:"10px"}}),g&&r.a.createElement(lt.a,{id:"yearFrom",onChange:function(e){return o(e)},placeholder:"from",style:{width:80,marginLeft:"10px"}}),g&&r.a.createElement(lt.a,{id:"yearTo",onChange:function(e){return u(e)},placeholder:"to",style:{width:80,marginLeft:"10px"}}),g&&r.a.createElement(Y.a,{id:"yearSearch",style:{marginLeft:"10px"},onClick:function(){"byYear"===p&&(null===s||null===c?rt.a.warning("Both year values are required"):e.onFilterChanged({filter:p,from:s,to:c}))}},"Search"))},pt=function(e){var t=e.page,n=e.onPrevious,a=e.onNext,s=e.disableNext,o=Object(Je.a)(e,["page","onPrevious","onNext","disableNext"]);return r.a.createElement(Xe.a,Object.assign({style:{float:"right",marginRight:"15px"}},o),r.a.createElement(Y.a,{onClick:n,disabled:0===t},"Previous"),r.a.createElement(Y.a,{onClick:a,disabled:s},"Next"))};function ft(e){var t=e.albums,n=e.loadAlbums,s=Object(a.useState)({filter:"newest",page:0}),o=Object(We.a)(s,2),l=o[0],i=o[1],c=Object(a.useState)(!0),u=Object(We.a)(c,2),d=u[0],m=u[1],p=Object(a.useState)(!1),f=Object(We.a)(p,2),g=f[0],h=f[1];Object(a.useEffect)(function(){var e=l.filter,t=l.page,a=Object(Je.a)(l,["filter","page"]);m(!0),n(e,a,t)},[l,n]),Object(a.useEffect)(function(){m(!1),h(t.length<24)},[t]);var y=function(){i(Object(b.a)({},l,{page:l.page-1}))},v=function(){i(Object(b.a)({},l,{page:l.page+1}))};return r.a.createElement($e.a,{fluid:!0,style:{padding:"20px"}},r.a.createElement(Ze.a,null,r.a.createElement(Ne.a,{md:24},r.a.createElement("h1",{style:{fontWeight:"bold",display:"inline-block"}},"Albums")),r.a.createElement(mt,{id:"albumsFilter",onFilterChanged:function(e){e.page=0,i(e)}}),r.a.createElement(pt,{id:"pageNavigation",className:"rs-hidden-xs rs-hidden-sm",page:l.page,onNext:v,onPrevious:y,disableNext:g})),!d&&r.a.createElement(Ze.a,null,r.a.createElement(Ne.a,{md:24,className:"result-grid-container"},t.map(function(e){return r.a.createElement("div",{key:e.id,className:"result-item"},r.a.createElement(at,{album:e,showYear:!0}))}),0===t.length&&r.a.createElement(Ne.a,{md:24,style:{textAlign:"center",padding:"10%"}},"No results"))),d&&r.a.createElement(et.a,{size:"lg",center:!0}),r.a.createElement(Ze.a,null,r.a.createElement(Ne.a,{md:24,mdHidden:!0,lgHidden:!0},r.a.createElement(pt,{id:"pageNavigationMobile",page:l.page,onNext:v,onPrevious:y,disableNext:g}))))}ft.defaultProps={albums:[]};var gt={loadAlbums:function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:24;return function(){var r=Object(h.a)(g.a.mark(function r(s){var o;return g.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return s(w()),r.prev=1,r.next=4,S.getAlbumList2(e,t,n*a,a);case 4:o=r.sent,s(qe(o.reverse())),s(C()),r.next=13;break;case 9:r.prev=9,r.t0=r.catch(1),console.error(r.t0),s(P("Could not load '".concat(e,"' albums")));case 13:case"end":return r.stop()}},r,null,[[1,9]])}));return function(e){return r.apply(this,arguments)}}()}},ht=Object(m.b)(function(e,t){return{albums:Ve(e)}},gt)(ft),yt=function(e,t){return e.albums.byId[t.albumId]},bt=function(e,t){return e.songs.byId},vt=(Object(de.a)([bt],function(e){return Object.keys(e).map(function(t){return e[t]})}),Object(de.a)([bt,function(e,t){return t.artistId}],function(e,t){return Object.keys(e).map(function(t){return e[t]}).filter(function(e){return e.artistId===t})})),Et=Object(de.a)([bt,function(e,t){return t.genre.value}],function(e,t){return Object.keys(e).map(function(t){return e[t]}).filter(function(e){return e.genre===t})}),St=Object(de.a)([function(e,t){return e.playlists.byId[t.playlistId]},bt],function(e,t){return e&&e.songs?e.songs.reduce(function(e,n){return t[n]&&e.push(t[n]),e},[]):[]}),Ot=Object(de.a)([bt,function(e,t){return e.favourites}],function(e,t){return t.reduce(function(t,n){return e[n]&&t.push(e[n]),t},[])}),jt=n(312),kt=n(70),xt=(n(565),n(620)),wt=n(634),Ct=n(144),It=n(158),Pt=xt.a.Column,At=xt.a.HeaderCell,Tt=xt.a.Cell,_t=function(e){var t=e.rowData,n=e.onChange,a=e.checkedKeys,s=e.dataKey,o=Object(Je.a)(e,["rowData","onChange","checkedKeys","dataKey"]);return r.a.createElement(Tt,Object.assign({},o,{style:{padding:0}}),r.a.createElement("div",{style:{lineHeight:"46px"}},r.a.createElement(wt.a,{value:t[s],inline:!0,onClick:function(e){e.stopPropagation()},onChange:n,checked:a.some(function(e){return e===t[s]})})))},Nt=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).songClicked=function(e){n.props.onSongClicked?n.props.onSongClicked(e):n.props.putSongsInQueue(n.props.songs,e)},n.preventClickPropagation=function(e){e.stopPropagation()},n.handleCheckAll=function(e,t){var a=t?n.state.songs.map(function(e){return e.id}):[];n.setState({checkedKeys:a}),n.props.onSongsSelected&&n.props.onSongsSelected(a.map(function(e){return n.state.songs.find(function(t){return t.id===e})}))},n.handleCheck=function(e,t){var a=n.state.checkedKeys,r=t?[].concat(Object(Te.a)(a),[e]):a.filter(function(t){return t!==e});n.setState({checkedKeys:r}),n.props.onSongsSelected&&n.props.onSongsSelected(r.map(function(e){return n.state.songs.find(function(t){return t.id===e})}))},n.handleSortColumn=function(){var e=Object(h.a)(g.a.mark(function e(t,a){var r;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({loading:!0}),e.prev=1,e.next=4,Object(kt.d)(n.state.songs,t,a);case 4:r=e.sent,n.setState({sortColumn:t,sortType:a,songs:r}),n.props.onSongsSorted(r),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:n.setState({loading:!1});case 13:case"end":return e.stop()}},e,null,[[1,9]])}));return function(t,n){return e.apply(this,arguments)}}(),n.applyFilter=function(){var e=Object(h.a)(g.a.mark(function e(t){var a;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({loading:!0}),e.prev=1,e.next=4,Object(kt.b)(n.props.songs,t);case 4:if(a=e.sent,!n.state.sortType||!n.state.sortColumn){e.next=9;break}return e.next=8,Object(kt.d)(a,n.state.sortColumn,n.state.sortType);case 8:a=e.sent;case 9:n.setState({songs:a,checkedKeys:[]}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:n.setState({loading:!1});case 16:case"end":return e.stop()}},e,null,[[1,12]])}));return function(t){return e.apply(this,arguments)}}(),n.state={checkedKeys:[],loading:!1,songs:e.songs||[]},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this;e.songs.length!==this.props.songs.length&&this.state.checkedKeys.length>0&&this.setState({checkedKeys:[]}),e.songs!==this.props.songs&&(this.props.onSongsSelected&&this.props.onSongsSelected(this.state.checkedKeys.map(function(e){return t.props.songs.find(function(t){return t.id===e})})),this.applyFilter(this.props.songsFilter)),e.songsFilter!==this.props.songsFilter&&this.applyFilter(this.props.songsFilter)}},{key:"render",value:function(){var e=this,t=this.props.sortable,n=this.props.currentSongPlaying||{},a=this.state.songs,s=this.props.columns||Lt,o=this.state.checkedKeys,l=!1,i=!1;o.length===a.length?l=!0:0===o.length?l=!1:o.length>0&&o.length<a.length&&(i=!0);var c=-1===this.props.height?{autoHeight:!0,style:{overflow:"initial"}}:{height:this.props.height};return r.a.createElement(xt.a,Object.assign({},c,{id:"songsTable",onRowClick:this.songClicked,virtualized:!0,data:a,className:"songs-table",onSortColumn:this.handleSortColumn,sortColumn:this.state.sortColumn,sortType:this.state.sortType,loading:this.state.loading,rowClassName:function(e){return e&&e.id===n.id?"currently-playing":null}}),s.includes(Mt.selectable)?r.a.createElement(Pt,{width:50,align:"center"},r.a.createElement(At,{style:{padding:0}},r.a.createElement("div",{style:{lineHeight:"40px"}},r.a.createElement(wt.a,{id:"checkAllCell",inline:!0,checked:l,indeterminate:i,onChange:this.handleCheckAll}))),r.a.createElement(_t,{id:"checkColumn",dataKey:"id",checkedKeys:o,onChange:this.handleCheck})):null,s.includes(Mt.title)?r.a.createElement(Pt,{flexGrow:4,sortable:t},r.a.createElement(At,null," Title "),r.a.createElement(Tt,{dataKey:"title"},function(e){return r.a.createElement("p",null,e.title," ",e.starred&&r.a.createElement(H.a,{icon:"star"})," ",r.a.createElement(H.a,{icon:"volume-up",className:"icon-when-playing"}))})):null,s.includes(Mt.artist)?r.a.createElement(Pt,{flexGrow:3,sortable:t},r.a.createElement(At,null,"Artist"),r.a.createElement(Tt,{dataKey:"artist"})):null,s.includes(Mt.album)?r.a.createElement(Pt,{flexGrow:2,sortable:t},r.a.createElement(At,null,"Album"),r.a.createElement(Tt,{dataKey:"album"})):null,s.includes(Mt.starred)?r.a.createElement(Pt,{flexGrow:2,sortable:t},r.a.createElement(At,null,"Starred"),r.a.createElement(Tt,{dataKey:"starred"},function(e){return e.starred.split("T")[0]})):null,s.includes(Mt.bitRate)?r.a.createElement(Pt,{width:60},r.a.createElement(At,null,"BitRate"),r.a.createElement(Tt,{dataKey:"bitRate"})):null,s.includes(Mt.duration)?r.a.createElement(Pt,{width:55},r.a.createElement(At,null,r.a.createElement(H.a,{icon:"clock-o"})),r.a.createElement(Tt,{dataKey:"duration"},function(e){return ye(e.duration)})):null,s.includes(Mt.download)?r.a.createElement(Pt,{width:55},r.a.createElement(At,null,r.a.createElement(H.a,{icon:"download"})),r.a.createElement(Tt,{dataKey:"id"},function(t){return r.a.createElement(Ct.a,{placement:"auto",trigger:"hover",speaker:r.a.createElement(It.a,null,t.path)},r.a.createElement("a",{href:S.getDownloadUrl(t.id),download:t.title,style:{color:"#8e8e93"},target:"_blank",rel:"noopener noreferrer"},r.a.createElement(H.a,{icon:"download",onClick:e.preventClickPropagation})))})):null)}}]),t}(r.a.Component),Mt={title:"title",artist:"artist",album:"album",duration:"duration",bitRate:"bitRate",selectable:"selectable",download:"download",starred:"starred"};Nt.columns=Mt;var Lt=["title","artist","album","duration","bitRate","selectable","download"];Nt.defaultProps={height:-1,sortable:!1,columns:Lt,songsFilter:null,putSongsInQueue:function(){return null},onSongsSelected:function(){return null},onSongsSorted:function(){return null},onSongClicked:null};var Dt={putSongsInQueue:oe},Ut=Object(m.b)(function(e){return{currentSongPlaying:pe(e)}},Dt)(Nt),Ft=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).onItemSelected=function(e){n.props.playlists[e]?n.props.onPlaylistSelected&&n.props.onPlaylistSelected(n.props.playlists[e]):n.favourites_key===e?n.props.onFavouritesSelected&&n.props.onFavouritesSelected():n.props.onQueueSelected&&n.props.onQueueSelected()},n.favourites_key="".concat(Math.random()),n.queue_key="".concat(Math.random()),n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.showFavourites,n=this.props.showQueue;return r.a.createElement(ae.a,{id:"selectDropdown",title:"Add to ...",trigger:"click",onSelect:this.onItemSelected,disabled:this.props.disabled,placement:"bottomEnd"},t?r.a.createElement(ae.a.Item,{id:"favourites_item",eventKey:this.favourites_key,icon:r.a.createElement(H.a,{icon:"star"})},"Favourites"):null,n?r.a.createElement(ae.a.Item,{id:"queue_item",eventKey:this.queue_key,icon:r.a.createElement(H.a,{icon:"bars"})},"Queue"):null,t?r.a.createElement(ae.a.Item,{divider:!0}):null,Object.keys(this.props.playlists).map(function(t){return e.props.playlists[t].isMine?r.a.createElement(ae.a.Item,{key:t,"data-key":t,eventKey:t},e.props.playlists[t].name):null}))}}]),t}(r.a.Component);Ft.defaultProps={playlists:{},showFavourites:!0,showQueue:!0};var Rt=Object(m.b)(function(e){return{playlists:e.playlists.byId}},null)(Ft),Gt=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).onSongsSorted=function(e){n.songs=e},n.playAll=function(){n.songs&&n.props.playAllSongs(n.songs)},n.onFilterSongs=function(e){var t=e||null;n.setState({filter:t})},n.onSongsSelected=function(e){n.setState({selectedSongs:e})},n.onPlaylistSelected=function(e){n.props.addSongsToPlaylist(e,n.state.selectedSongs)},n.onFavouritesSelected=function(){n.props.setStarOnSongs(n.state.selectedSongs,!0)},n.onQueueSelected=function(){n.props.addSongsToQueue(n.state.selectedSongs)},n.state={selectedSongs:[],filter:null},n.songs=e.songs,n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(e){this.songs=this.props.songs}},{key:"render",value:function(){var e=this,t=this.props,n=t.style,a=t.className,s=Object(Je.a)(t,["style","className"]),o=0!==this.state.selectedSongs.length,l=s.withPlaylistDropdown,i=s.withSearchFilter,c=this.state.filter,u=s.showPlayButton;return r.a.createElement("div",{className:a,style:Object(b.a)({},n,{display:"flex",flexFlow:"column"})},r.a.createElement("div",{style:{display:"flex",flexFlow:"row",width:"100%"}},u&&r.a.createElement(Y.a,{id:"playAll",onClick:this.playAll,appearance:"ghost"},"PLAY"),i&&r.a.createElement(X,{style:{display:"flex",flex:1},id:"searchBar",size:"md",onSearch:this.onFilterSongs}),l&&r.a.createElement(Rt,{id:"playlistSelector",onQueueSelected:this.onQueueSelected,onPlaylistSelected:this.onPlaylistSelected,onFavouritesSelected:this.onFavouritesSelected,disabled:!o})),s.fixedHeightToFill?r.a.createElement("div",{style:{flexGrow:1}},r.a.createElement(jt.a,{id:"autosizerContainer",disableWidth:!0},function(t){var n=t.height;return r.a.createElement(Ut,Object.assign({id:"songsTable",songsFilter:c,height:n,onSongsSelected:e.onSongsSelected,onSongsSorted:e.onSongsSorted},s))})):r.a.createElement(Ut,Object.assign({id:"songsTable",songsFilter:c,onSongsSelected:this.onSongsSelected,onSongsSorted:this.onSongsSorted},s)))}}]),t}(r.a.Component);Gt.defaultProps={withPlaylistDropdown:!0,withSearchFilter:!0,fixedHeightToFill:!1,showPlayButton:!0,addSongsToPlaylist:function(){return null},addSongsToQueue:function(){return null},setStarOnSongs:function(){return null},playAllSongs:function(){return null}};var Bt={addSongsToQueue:function(e){return Object(b.a)({type:y.b,payload:{songs:e}},x("".concat(e.length," songs added to the queue!")))},addSongsToPlaylist:_,setStarOnSongs:ue,playAllSongs:oe},Kt=Object(m.b)(null,Bt)(Gt),Qt=[Nt.columns.title,Nt.columns.album,Nt.columns.duration,Nt.columns.bitRate,Nt.columns.selectable,Nt.columns.download];function Ht(e){var t=e.songs;return r.a.createElement(Kt,{style:Object(b.a)({},e.style,{padding:"0px 15px 15px"}),songs:t,columns:Qt,fixedHeightToFill:!0,sortable:!0})}Ht.defaultProps={style:{},songs:[]};var qt=Object(m.b)(function(e,t){return{songs:vt(e,t)}},null)(Ht),Yt=n(635),zt=(n(577),[Nt.columns.title,Nt.columns.duration,Nt.columns.bitRate,Nt.columns.selectable,Nt.columns.download]);function Vt(e){var t=e.album,n=e.songs,a=e.style,s=e.starAlbums,o=e.linkArtist;function l(){s([t],!t.starred)}var i=t.starred?"primary":"default",c=t.starred?"star":"star-o";return r.a.createElement(Yt.a,{shaded:!0,bordered:!0,className:"rs-table album-panel",style:Object(b.a)({},a)},r.a.createElement($e.a,{fluid:!0},r.a.createElement(Ze.a,null,r.a.createElement(Ne.a,{smHidden:!0,xsHidden:!0,md:6,lg:6},r.a.createElement("img",{src:t.coverArt?S.getCoverArtUrl(t.coverArt):"/currently_placeholder.png",alt:"Album Cover",width:"100%",style:{marginBottom:"5px"}}),r.a.createElement(ve.a,{id:"starAlbumLG",icon:r.a.createElement(H.a,{icon:"star"}),circle:!0,size:"lg",style:{marginTop:"-30px",marginRight:"10px",float:"right"},appearance:i,onClick:l}),o&&r.a.createElement("p",null,r.a.createElement("strong",null,"By: ")," ",r.a.createElement("span",{className:"artist-link",onClick:function(e){return n=t.artistId,void Object(p.d)("/artists/".concat(n));var n}},t.artist)," "),r.a.createElement("p",null,r.a.createElement("strong",null,"Genre: ")," ",t.genre," "),r.a.createElement("p",null,r.a.createElement("strong",null,"Songs: ")," ",t.songCount," (",be(t.duration),") "),r.a.createElement("p",null,r.a.createElement("strong",null,"Year: ")," ",t.year," ")),r.a.createElement(Ne.a,{sm:24,md:18,style:{paddingLeft:"10px"}},r.a.createElement("h2",{id:"albumHeader"},r.a.createElement("img",{className:"rs-hidden-md rs-hidden-lg",src:t.coverArt?S.getCoverArtUrl(t.coverArt):null,alt:"Album Cover",width:"45",height:"45",style:{marginRight:"10px",marginBottom:"5px"}}),t?t.name:"...",r.a.createElement(ve.a,{id:"starAlbumSM",className:"rs-hidden-md rs-hidden-lg",icon:r.a.createElement(H.a,{icon:c}),appearance:"link",size:"lg",onClick:l})),r.a.createElement(Kt,{songs:n,columns:zt,fixedHeightToFill:!1,withSearchFilter:!1})))))}Vt.defaultProps={album:{},style:{},songs:[],starAlbums:function(){return null},linkArtist:!0};var Wt={addSongsToPlaylist:_,starAlbums:function(e,t){return function(){var n=Object(h.a)(g.a.mark(function n(a){var r,s,o;return g.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(a(w()),0!==(r=e.filter(function(e){return!e.starred===t}).map(function(e){return e.id})).length){n.next=6;break}a(I("All albums are already starred")),n.next=28;break;case 6:if(n.prev=6,s=null,o=null,!t){n.next=17;break}return n.next=12,S.starAlbums(r);case 12:s=n.sent,o=s?"Albums added to favs!":"Unable to star albums",t=(new Date).toISOString(),n.next=21;break;case 17:return n.next=19,S.unstarAlbums(r);case 19:s=n.sent,o=s?"Albums removed from favs!":"Unable to unstar albums";case 21:s?(a(He(r,t)),a(C(o))):a(P(o)),n.next=28;break;case 24:n.prev=24,n.t0=n.catch(6),console.error(n.t0),a(P("Could not change ".concat(r.length," albums")));case 28:case"end":return n.stop()}},n,null,[[6,24]])}));return function(e){return n.apply(this,arguments)}}()}},Jt=Object(m.b)(function(e,t){var n=Object(de.a)([yt,bt],function(e,t){return e&&e.song?e.song.reduce(function(e,n){return t[n]&&e.push(t[n]),e},[]):[]});return{album:e.albums.byId[t.albumId],songs:n(e,t)}},Wt)(Vt),Xt=(n(578),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).onAlbumSelected=function(e){n.setState({selectedAlbumId:e})},n.state={selectedAlbumId:null},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.albums,t=this.state.selectedAlbumId,n=e.map(function(e){return{value:e.id,label:e.name}});return r.a.createElement("div",{className:"artists-by-albums-container",style:{display:"flex",flexFlow:"column",flexGrow:1,padding:"15px 5px 0px 5px"}},r.a.createElement("div",{style:{marginBottom:"10px"},className:"rs-hidden-lg rs-hidden-md"},r.a.createElement(it.a,{id:"selectAlbums",data:n,style:{width:224},searchable:!1,cleanable:!1,onChange:this.onAlbumSelected})),r.a.createElement("div",{style:{display:"flex",flexFlow:"row",height:"100%"}},r.a.createElement(Q.a,{className:"nav-artist-by-albums rs-hidden-xs rs-hidden-sm",vertical:!0,onSelect:this.onAlbumSelected,activeKey:t},e.map(function(e){return r.a.createElement(Q.a.Item,{key:e.id,eventKey:e.id},r.a.createElement(Ct.a,{trigger:"hover",placement:"right",speaker:r.a.createElement(It.a,null,e.name)},r.a.createElement("div",{className:"album-element"},r.a.createElement("img",{src:e.coverArt?S.getCoverArtUrl(e.coverArt):"/currently_placeholder.png",alt:"cover",width:"40",height:"40"}),r.a.createElement("span",null," ",e.name))))})),r.a.createElement(q.a,{className:"rs-hidden-xs rs-hidden-sm",vertical:!0,style:{height:"100%",minWidth:"1px",marginLeft:0}}),r.a.createElement("div",{style:{flexGrow:1,paddingBottom:"10px"}},t&&r.a.createElement(Jt,{id:"album",albumId:t,linkArtist:!1,style:{height:"100%",overflow:"auto"}}))))}}]),t}(r.a.Component));Xt.defaultProps={albums:[]};var $t=Object(m.b)(function(e,t){return{albums:ze(e,t)}},null)(Xt);var Zt=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{style:e.style,className:"rs-hidden-xs rs-hidden-sm"},e.children),r.a.createElement("h3",{style:e.style,className:"rs-hidden-md rs-hidden-lg"},e.children))},en=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).onViewSelected=function(e){n.setState({selectedView:e})},n.state={selectedView:t.KEY_ALL_SONGS},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.loadOneArtist(this.props.artistId)}},{key:"render",value:function(){var e=this.props.artist||{},n=this.state.selectedView;return r.a.createElement("div",{style:{display:"flex",flexFlow:"column",height:"100%",width:"100%"}},r.a.createElement("div",{style:{display:"flex",flexFlow:"row",padding:"20px 20px 0px 20px"}},r.a.createElement(Zt,{style:{fontWeight:"bold",flexGrow:1}},null!=e?e.name:"..."),r.a.createElement(Q.a,{id:"viewSelector",onSelect:this.onViewSelected,activeKey:n},r.a.createElement(Q.a.Item,{icon:r.a.createElement(H.a,{icon:"bars"}),eventKey:t.KEY_ALL_SONGS}),r.a.createElement(Q.a.Item,{icon:r.a.createElement(H.a,{icon:"th-large"}),eventKey:t.KEY_BY_ALBUM}))),n===t.KEY_BY_ALBUM&&r.a.createElement($t,{artistId:this.props.artistId}),n===t.KEY_ALL_SONGS&&r.a.createElement(qt,{artistId:this.props.artistId,style:{flexGrow:1}}))}}]),t}(r.a.Component);en.defaultProps={artist:{}},en.KEY_ALL_SONGS="all",en.KEY_BY_ALBUM="by_album";var tn={loadOneArtist:function(e){return function(){var t=Object(h.a)(g.a.mark(function t(n){var a,r;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n(w()),t.prev=1,t.next=4,S.getArtist(e);case 4:return a=t.sent,n(Ae(a)),n(C()),n(w()),t.next=10,Ie(a);case 10:r=t.sent,n(Ce(r)),n(C()),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(1),console.error(t.t0),n(P("Unable to load artist"));case 19:case"end":return t.stop()}},t,null,[[1,15]])}));return function(e){return t.apply(this,arguments)}}()}},nn=Object(m.b)(function(e,t){return{artist:e.artists.byId[t.artistId]}},tn)(en),an=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.loadAlbum(this.props.albumId)}},{key:"render",value:function(){var e=this.props.albumId;return r.a.createElement("div",{style:{padding:"20px"}},r.a.createElement(Jt,{albumId:e}))}}]),t}(r.a.PureComponent);an.defaultProps={loadAlbum:function(){},albumId:null};var rn={loadAlbum:function(e){return function(){var t=Object(h.a)(g.a.mark(function t(n){var a;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n(w()),t.prev=1,t.next=4,S.getAlbum(e);case 4:a=t.sent,n(Qe(a)),n(C()),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),console.error(t.t0),n(P("Unable to load album"));case 13:case"end":return t.stop()}},t,null,[[1,9]])}));return function(e){return t.apply(this,arguments)}}()}},sn=Object(m.b)(null,rn)(an),on=(n(579),n(621)),ln=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).closeModalAndDelete=function(){n.confirmation_name===n.props.playlist.name?(n.waitingForDeletion=!0,n.props.deletePlaylist(n.props.playlist),n.closeDeleteModal()):n.setState({deleteNameError:!0})},n.closeDeleteModal=function(){n.props.onHide&&n.props.onHide()},n.waitingForDeletion=!1,n.state={deleteNameError:!1},n.confirmation_name="",n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(e){!this.props.playlist&&this.waitingForDeletion&&Object(p.d)("/")}},{key:"render",value:function(){var e=this,t=this.props.playlist||{};return r.a.createElement(on.a,Object.assign({},this.props,{className:"subplayer-modal",backdrop:"static",onHide:this.closeDeleteModal,size:"xs"}),r.a.createElement(on.a.Body,null,r.a.createElement(H.a,{icon:"remind",style:{color:"#ffb300",fontSize:24}}),"  ","Once a playlist is deleted, it can't be recovered. If you want to proceed, write the name of the playlist \"",r.a.createElement("b",null,t.name),'":',r.a.createElement(J.a,{id:"confirm_name",name:"confirm_name",onChange:function(t){e.confirmation_name=t},style:{width:"100%",marginTop:"10px"}}),this.state.deleteNameError?r.a.createElement("span",{id:"errorMessage",style:{color:"red"}},"Name does not match"):null),r.a.createElement(on.a.Footer,null,r.a.createElement(Y.a,{id:"deleteButton",onClick:this.closeModalAndDelete,appearance:"primary"}," Ok "),r.a.createElement(Y.a,{id:"cancelButton",onClick:this.closeDeleteModal,appearance:"subtle"}," Cancel ")))}}]),t}(r.a.Component),cn={deletePlaylist:function(e){return function(){var t=Object(h.a)(g.a.mark(function t(n){return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n(w()),t.prev=1,t.next=4,S.deletePlaylist(e.id);case 4:t.sent?(n(M(e)),n(C("".concat(e.name," deleted!")))):n(P("Could not delete ".concat(e.name))),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.error(t.t0),n(P(t.t0.message));case 12:case"end":return t.stop()}},t,null,[[1,8]])}));return function(e){return t.apply(this,arguments)}}()}},un=Object(m.b)(function(e,t){return{playlist:e.playlists.byId[t.playlistId]}},cn)(ln),dn=n(636),mn=n(617),pn=n(637),fn=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).setTempPlaylistToDefault=function(e){n.tempPlaylist={name:e.name,comment:e.comment,public:e.public}},n.closeEditModal=function(){n.props.onHide&&n.props.onHide(),n.setState({editNameError:!1}),n.setTempPlaylistToDefault(n.props.playlist)},n.closeModalAndEdit=function(e){e&&(e.stopPropagation(),e.preventDefault()),n.tempPlaylist.name?(n.props.editPlaylist(n.props.playlist.id,n.tempPlaylist.name,n.tempPlaylist.comment,n.tempPlaylist.public),n.props.onHide&&n.props.onHide(),n.setState({editNameError:!1})):n.setState({editNameError:!0})},n.state={editNameError:!1},n.tempPlaylist={},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(e){!e.show&&this.props.show&&this.setTempPlaylistToDefault(this.props.playlist)}},{key:"render",value:function(){var e=this,t=this.props.playlist||{id:"",name:"",songCount:0,duration:0,isMine:!1};return r.a.createElement(on.a,Object.assign({},this.props,{className:"subplayer-modal",backdrop:"static",onHide:this.closeEditModal,size:"xs"}),r.a.createElement(on.a.Header,null,r.a.createElement(on.a.Title,null,"Edit Playlist")),r.a.createElement(on.a.Body,null,r.a.createElement(dn.a,{fluid:!0,onSubmit:this.closeModalAndEdit},r.a.createElement(mn.a,null,r.a.createElement(pn.a,null,"Name"),r.a.createElement(J.a,{id:"name",name:"name",defaultValue:t.name,onChange:function(t){e.tempPlaylist.name=t},style:{width:"100%"}}),this.state.editNameError?r.a.createElement("span",{id:"nameErrorMessage",style:{color:"red"}},"A name is required"):null),r.a.createElement(mn.a,null,r.a.createElement(pn.a,null,"Comment"),r.a.createElement(J.a,{id:"comment",name:"comment",defaultValue:t.comment,style:{width:"100%"},onChange:function(t){e.tempPlaylist.comment=t}})),r.a.createElement(mn.a,null,r.a.createElement(wt.a,{id:"isPublic",name:"isPublic",defaultChecked:t.public,onChange:function(t,n){e.tempPlaylist.public=n}},"Public")))),r.a.createElement(on.a.Footer,null,r.a.createElement(Y.a,{id:"editButton",type:"submit",appearance:"primary",onClick:this.closeModalAndEdit}," Save "),r.a.createElement(Y.a,{id:"cancelButton",onClick:this.closeEditModal,appearance:"subtle"}," Cancel ")))}}]),t}(r.a.Component),gn={editPlaylist:function(e,t,n,a){return function(){var r=Object(h.a)(g.a.mark(function r(s){return g.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return s(w()),r.prev=1,r.next=4,S.updatePlaylist(e,encodeURIComponent(t),encodeURIComponent(n),a);case 4:r.sent?(s(L(e,t,n,a)),s(C("Playlist successfully edited"))):s(P("Could not edit playlist")),r.next=12;break;case 8:r.prev=8,r.t0=r.catch(1),console.error(r.t0),s(P("Could not edit playlist"));case 12:case"end":return r.stop()}},r,null,[[1,8]])}));return function(e){return r.apply(this,arguments)}}()}},hn=Object(m.b)(function(e,t){return{playlist:e.playlists.byId[t.playlistId]}},gn)(fn),yn=[Nt.columns.title,Nt.columns.artist,Nt.columns.album,Nt.columns.duration,Nt.columns.bitRate,Nt.columns.download],bn=[].concat(yn,[Nt.columns.selectable]),vn=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).onSongsSelected=function(e){n.setState({selectedSongs:e})},n.removeSelectedSongs=function(){if(n.props.removeSongsFromPlaylist&&n.state.selectedSongs.length>0){var e=n.state.selectedSongs.map(function(e){return n.props.songs.findIndex(function(t){return t.id===e.id})});n.deletedIndexes=e,n.props.removeSongsFromPlaylist(n.props.playlist,n.state.selectedSongs,e)}},n.formatExternalPlaylistName=function(e){return e.replace(/^\[.*?\] /,"")},n.triggerEditModal=function(){n.setState({showEditModal:!0})},n.closeEditModal=function(){n.setState({showEditModal:!1})},n.askDeletionConfirmation=function(){n.setState({showDeleteModal:!0})},n.closeDeleteModal=function(){n.setState({showDeleteModal:!1})},n.state={selectedSongs:[],showDeleteModal:!1,showEditModal:!1},n.deletedIndexes=[],n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.playlistId&&this.props.loadSinglePlaylist(this.props.playlistId)}},{key:"componentDidUpdate",value:function(e){this.props.playlistId&&this.props.playlistId!==e.playlistId&&(this.setState({selectedSongs:[]}),this.props.loadSinglePlaylist(this.props.playlistId))}},{key:"render",value:function(){var e=this.props.playlist||{id:"",name:"",songCount:0,duration:0,isMine:!1},t=this.props.songs,n=this.state.selectedSongs&&0===this.state.selectedSongs.length,a=e.isMine?bn:yn,s=e.isMine?e.name:this.formatExternalPlaylistName(e.name),o=e.isMine?r.a.createElement(ve.a,{id:"editButton",onClick:this.triggerEditModal,icon:r.a.createElement(H.a,{icon:"pencil"}),appearance:"link"}):null;return r.a.createElement("div",{style:{display:"flex",flexFlow:"column",height:"100%",width:"100%"}},r.a.createElement("div",{style:{display:"flex",flexFlow:"row",padding:"20px 20px 15px 20px"}},r.a.createElement("div",{style:{flexGrow:1}},r.a.createElement(Zt,{id:"title"},s," ",o),r.a.createElement("p",{id:"details"},e.songCount," songs, ",be(e.duration)," by ",r.a.createElement("b",null,e.owner)),e.comment?r.a.createElement("p",{id:"comment"},'"'.concat(e.comment,'"')):null),e.isMine?r.a.createElement("div",{style:{display:"flex",flexFlow:"column"}},r.a.createElement(Y.a,{id:"deleteButton",color:"red",onClick:this.askDeletionConfirmation,style:{marginBottom:"5px"}},"Delete playlist"),r.a.createElement(Y.a,{id:"removeButton",onClick:this.removeSelectedSongs,disabled:n},"Remove from playlist")):null),r.a.createElement(Kt,{id:"songsComponent",className:"playlist-songs-container",style:{flexGrow:1},songs:t,onSongsSelected:this.onSongsSelected,columns:a,fixedHeightToFill:!0,withPlaylistDropdown:!1,sortable:!0}),r.a.createElement(un,{id:"deleteComponent",playlistId:e.id,show:this.state.showDeleteModal,onHide:this.closeDeleteModal}),r.a.createElement(hn,{id:"editComponent",playlistId:e.id,show:this.state.showEditModal,onHide:this.closeEditModal}))}}]),t}(r.a.Component),En={removeSongsFromPlaylist:function(e,t,n){return function(){var a=Object(h.a)(g.a.mark(function a(r){return g.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r(w()),a.prev=1,a.next=4,S.removeSongsFromPlaylist(e.id,n);case 4:a.sent?(r(N(e,t)),r(C("".concat(n.length," songs removed from ").concat(e.name)))):r(P("Could not remove ".concat(n.length," songs from ").concat(e.name))),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(1),console.error(a.t0),r(P(a.t0.message));case 12:case"end":return a.stop()}},a,null,[[1,8]])}));return function(e){return a.apply(this,arguments)}}()},loadSinglePlaylist:function(e){return function(){var t=Object(h.a)(g.a.mark(function t(n){var a;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n(w()),t.prev=1,t.next=4,S.getPlaylistById(e);case 4:(a=t.sent).entry=a.entry||[],n(D(a)),n(C()),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),console.error(t.t0),n(P("Could not load playlist"));case 14:case"end":return t.stop()}},t,null,[[1,10]])}));return function(e){return t.apply(this,arguments)}}()}},Sn=Object(m.b)(function(e,t){return{playlist:e.playlists.byId[t.playlistId],songs:St(e,t)}},En)(vn),On=n(624),jn=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).closeModal=function(){n.props.onClosePlaylistModal&&n.props.onClosePlaylistModal()},n.onPlaylistFormChange=function(e){n.newPlaylist=e},n.closeModalAndCreate=function(){n.newPlaylist.name.length>0?(n.setState({playlistNameErrorMessage:null}),n.props.createPlaylist(n.newPlaylist.name),n.closeModal()):n.setState({playlistNameErrorMessage:"Name required"})},n.handleKeyDown=function(e){"Enter"===e.key&&n.closeModalAndCreate()},n.state={playlistNameErrorMessage:null},n.newPlaylist={name:""},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(on.a,{id:"modal",backdrop:"static",show:this.props.showModal,onHide:this.closeModal,size:"xs"},r.a.createElement(on.a.Header,null,r.a.createElement(on.a.Title,null,"New Playlist")),r.a.createElement(on.a.Body,null,r.a.createElement(dn.a,{fluid:!0,onChange:this.onPlaylistFormChange},r.a.createElement(mn.a,null,r.a.createElement(pn.a,null,"Name"),r.a.createElement(On.a,{name:"name",errorMessage:this.state.playlistNameErrorMessage,errorPlacement:"bottomStart",onKeyDown:this.handleKeyDown})))),r.a.createElement(on.a.Footer,null,r.a.createElement(Y.a,{id:"create_playlist",onClick:this.closeModalAndCreate,appearance:"primary"}," Create "),r.a.createElement(Y.a,{id:"close",onClick:this.closeModal,appearance:"subtle"}," Cancel ")))}}]),t}(r.a.Component);jn.defaultProps={showModal:!1,createPlaylist:function(){return null}};var kn={createPlaylist:function(e){return function(){var t=Object(h.a)(g.a.mark(function t(n){var a;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n(w()),t.prev=1,t.next=4,S.createPlaylist(encodeURIComponent(e));case 4:if(!t.sent){t.next=13;break}return t.next=8,S.getPlaylists();case 8:a=t.sent,n(C("Playlist ".concat(e," was created!"))),n(A(a)),t.next=14;break;case 13:n(P("Could not create playlist"));case 14:t.next=20;break;case 16:t.prev=16,t.t0=t.catch(1),console.error(t.t0),n(P(t.t0.message));case 20:case"end":return t.stop()}},t,null,[[1,16]])}));return function(e){return t.apply(this,arguments)}}()}},xn=Object(m.b)(null,kn)(jn),wn=Object(de.a)([function(e){return e.search.songsById},function(e){return e.search.songs}],function(e,t){return t.map(function(t){return e[t]})}),Cn=[Nt.columns.selectable,Nt.columns.title,Nt.columns.artist,Nt.columns.album,Nt.columns.duration,Nt.columns.bitRate,Nt.columns.download];var In=function(e){var t=e.songs;return r.a.createElement(Kt,{style:{marginBottom:"20px"},songs:t,columns:Cn,sortable:!0})},Pn=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.albums||[],t=this.props.artists||[],n=this.props.songs||[];return r.a.createElement("div",{style:{padding:"20px",display:"flex",flexDirection:"column",height:"100%",overflow:"auto"}},r.a.createElement(Ne.a,{className:"rs-hidden-lg rs-hidden-md"},r.a.createElement(Z,null)),0===t.length&&0===e.length&&0===n.length?r.a.createElement("h1",null,"No results"):null,t.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{style:{display:"contents"}},"Artists"),r.a.createElement("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap"}},t.map(function(e){return r.a.createElement(Le,{key:e.id,artist:e})}))):null,e.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{style:{display:"contents"}},"Albums"),r.a.createElement("div",{className:"result-grid-container"},e.map(function(e){return r.a.createElement("div",{key:e.id,className:"result-item"},r.a.createElement(at,{album:e}))}))):null,n.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{style:{display:"contents"}},"Songs"),r.a.createElement(In,{songs:n})):null)}}]),t}(r.a.Component),An={search:V},Tn=Object(m.b)(function(e,t){return{artists:e.search.artists,albums:e.search.albums,songs:wn(e)}},An)(Pn),_n=[Nt.columns.selectable,Nt.columns.title,Nt.columns.artist,Nt.columns.album,Nt.columns.duration,Nt.columns.bitRate,Nt.columns.download,Nt.columns.starred],Nn=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).onSongsSelected=function(e){n.setState({selectedSongs:e})},n.removeSelectedSongs=function(){n.state.selectedSongs.length>0&&n.props.setStarOnSongs(n.state.selectedSongs,!1)},n.state={selectedSongs:[],duration:0},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.loadFavouriteSongs()}},{key:"componentDidUpdate",value:function(e){e.songs.length!==this.props.songs.length&&this.setState({selectedSongs:[],duration:this.props.songs.reduce(function(e,t){return{duration:e.duration+t.duration}},{duration:0}).duration})}},{key:"render",value:function(){var e=this.props.songs,t=this.state.duration,n=this.state.selectedSongs&&0===this.state.selectedSongs.length;return r.a.createElement("div",{style:{display:"flex",flexFlow:"column",padding:"20px",height:"100%",width:"100%"}},r.a.createElement("div",{style:{display:"flex",flexFlow:"row",marginBottom:"15px"}},r.a.createElement("div",{style:{flexGrow:1}},r.a.createElement("h1",{style:{fontWeight:"bold"}},"Favourites"),r.a.createElement("span",{id:"description"},e.length," songs, ",be(t))),r.a.createElement("div",{style:{display:"flex",flexFlow:"column"}},r.a.createElement(Y.a,{id:"removeFromFavourites",onClick:this.removeSelectedSongs,disabled:n},"Remove from favourites"))),r.a.createElement(Kt,{style:{flexGrow:1},songs:e,onSongsSelected:this.onSongsSelected,columns:_n,fixedHeightToFill:!0,withPlaylistDropdown:!1,sortable:!0}))}}]),t}(r.a.Component);Nn.defaultProps={songs:[]};var Mn={loadFavouriteSongs:function(){return function(){var e=Object(h.a)(g.a.mark(function e(t){var n,a;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(w()),e.prev=1,e.next=4,S.getStarred();case 4:n=e.sent,a=n.song||[],t(ie(a)),t(C()),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0),t(P("Could not retrieve favourites"));case 14:case"end":return e.stop()}},e,null,[[1,10]])}));return function(t){return e.apply(this,arguments)}}()},setStarOnSongs:ue},Ln=Object(m.b)(function(e,t){return{songs:Ot(e)}},Mn)(Nn),Dn=(n(586),[Nt.columns.title,Nt.columns.artist,Nt.columns.album,Nt.columns.duration,Nt.columns.selectable,Nt.columns.download]),Un=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).onSongsSelected=function(e){n.setState({selectedSongs:e})},n.removeSongsFromQueue=function(){n.props.removeSongsFromQueue&&n.props.removeSongsFromQueue(n.state.selectedSongs)},n.clearQueue=function(){n.props.clearQueue&&n.props.clearQueue()},n.onSongClicked=function(e){n.props.seekToSongInQueue&&n.props.seekToSongInQueue(e)},n.state={selectedSongs:[]},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.songs,t=e.reduce(function(e,t){return e+t.duration},0),n=this.state.selectedSongs&&0===this.state.selectedSongs.length;return r.a.createElement("div",{style:{display:"flex",flexFlow:"column",height:"100%",width:"100%"}},r.a.createElement("div",{style:{display:"flex",flexFlow:"row",padding:"20px 20px 15px 20px"}},r.a.createElement("div",{style:{flexGrow:1}},r.a.createElement(Zt,null,"Playing Queue"),r.a.createElement("p",{id:"details"},e.length," songs, ",be(t))),r.a.createElement("div",{style:{display:"flex",flexFlow:"column"}},r.a.createElement(ve.a,{id:"clear_button",onClick:this.clearQueue,style:{marginBottom:"5px"},placement:"right",icon:r.a.createElement(H.a,{icon:"trash"})},"Clear"),r.a.createElement(Y.a,{id:"remove_button",onClick:this.removeSongsFromQueue,disabled:n},"Remove"))),r.a.createElement(Kt,{id:"songs_table",className:"queue-songs-container",style:{flexGrow:1},songs:e,onSongsSelected:this.onSongsSelected,columns:Dn,fixedHeightToFill:!0,withPlaylistDropdown:!1,withSearchFilter:!1,sortable:!1,showPlayButton:!1,onSongClicked:this.onSongClicked}))}}]),t}(r.a.Component);Un.defaultProps={songs:[]};var Fn={clearQueue:function(){return{type:y.d}},removeSongsFromQueue:function(e){return{type:y.z,payload:{songs:e}}},seekToSongInQueue:le},Rn=Object(m.b)(function(e,t){return{songs:fe(e,t)}},Fn)(Un),Gn=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).render=function(){return null},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props.alertToShow;if(e.alertToShow.id!==t.id)switch(t.type){case O:rt.a.success(t.message);break;case j:rt.a.warning(t.message);break;default:rt.a.error(t.message)}}}]),t}(r.a.Component),Bn=Object(m.b)(function(e){return{alertToShow:e.alert}},null)(Gn),Kn=(n(587),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=Object(h.a)(g.a.mark(function e(){var t;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.props.beginAsyncTask(),e.prev=1,e.next=4,S.getAlbumList2("newest");case 4:t=e.sent,n.props.asyncTaskSuccess(),n.setState({albums:t}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),n.props.asyncTaskError("Unable to load recently added albums");case 13:case"end":return e.stop()}},e,null,[[1,9]])})),n.state={albums:[]},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.albums;return r.a.createElement($e.a,{fluid:!0,style:{padding:"20px"}},r.a.createElement(Ze.a,null,r.a.createElement(Ne.a,{md:24,lg:24},r.a.createElement("h1",{style:{fontWeight:"bold",display:"inline-block"}},"Recently Added")),r.a.createElement(Ne.a,{md:24,className:"result-grid-container"},e.map(function(e){return r.a.createElement("div",{key:e.id,className:"result-item"},r.a.createElement(at,{album:e}))}))))}}]),t}(r.a.Component));Kn.defaultProps={beginAsyncTask:function(){return null},asyncTaskSuccess:function(){return null},asyncTaskError:function(){return null}};var Qn={beginAsyncTask:w,asyncTaskSuccess:C,asyncTaskError:P},Hn=Object(m.b)(null,Qn)(Kn);function qn(e,t,n){return localStorage.setItem("host",e),localStorage.setItem("username",t),localStorage.setItem("enc",n),S.setConfig(e,t,n,!1),{type:y.t}}function Yn(e){return localStorage.removeItem("host"),localStorage.removeItem("username"),localStorage.removeItem("enc"),{type:y.r,payload:{statusText:e.message}}}function zn(e,t,n){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return function(){var r=Object(h.a)(g.a.mark(function r(s){var o;return g.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return s({type:y.s}),e=e.replace(/\/$/,""),r.prev=2,r.next=5,S.login(e,t,n,a);case 5:r.sent?(o=a?S.getEncodedPassword(n):n,s(qn(e,t,o))):s(Yn({statusText:"Authentication failed"})),r.next=13;break;case 9:r.prev=9,r.t0=r.catch(2),console.error(r.t0),s(Yn(r.t0));case 13:case"end":return r.stop()}},r,null,[[2,9]])}));return function(e){return r.apply(this,arguments)}}()}function Vn(){var e=localStorage.getItem("host"),t=localStorage.getItem("username"),n=localStorage.getItem("enc");return e&&t&&n?zn(e,t,n,!1):{type:y.h}}var Wn=n(638);n(588);function Jn(e){return e.toLowerCase().startsWith("light")}function Xn(e){return e.toLowerCase().startsWith("dark")}function $n(e){var t="";return Jn(e)?t="light":Xn(e)&&(t="dark"),t}function Zn(e){var t="".concat("","/css/").concat(e,".css"),n=document.createElement("link");n.rel="stylesheet",n.href=t,n.dataset.theme=e,document.head.appendChild(n)}var ea=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.themes||{};return r.a.createElement(r.a.Fragment,null,Object.keys(e).map(function(t){return r.a.createElement(Ne.a,{key:t,className:"theme-element",sm:8,xs:12,onClick:function(e){var n;n=t,localStorage.setItem("theme",n),Zn(n)}},r.a.createElement(Wn.a,{className:"theme-element-color-".concat($n(t)),style:{background:e[t]["base-color"],verticalAlign:"middle"},circle:!0}),r.a.createElement("span",{"data-theme-name":t,style:{verticalAlign:"middle",marginLeft:"10px"}},function(e){var t=e,n=e.toLowerCase();return Jn(e)?t="Light ".concat(n.split("light")[1]):Xn(e)&&(t="Dark ".concat(n.split("dark")[1])),t}(t)))}))}}]),t}(r.a.Component),ta=n(618);var na=function(e){var t=K.a,n=Object(a.useState)([]),s=Object(We.a)(n,2),o=s[0],l=s[1];return Object(a.useEffect)(function(){l(K.d().map(function(e){return e.key}))},[]),r.a.createElement("div",{style:Object(b.a)({},e.style,{lineHeight:"2.5em"})},r.a.createElement(ta.a,{name:"genresCheckboxList",value:o,onChange:function(e){l(e),K.h(t.filter(function(t){return e.includes(t.key)}))}},r.a.createElement("p",null,"Select the items to display in the sidebar (NOTE: you need to refresh the site for these changes to take effect)"),t.map(function(e){return r.a.createElement(wt.a,{key:e.key,value:e.key},e.text)})))},aa=n(639);var ra=function(e){var t=Object(a.useState)(!0),n=Object(We.a)(t,2),s=n[0],o=n[1];return Object(a.useEffect)(function(){var e=K.b();o(e)},[]),r.a.createElement("div",{style:Object(b.a)({},e.style,{lineHeight:"2.5em"})},"Scrobble? ",r.a.createElement(aa.a,{style:{marginLeft:"10px"},checked:s,onChange:function(e){K.f(e),o(e)}}))},sa=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).onLogOut=function(){a.props.logout()},a.themes=n(589),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.themes;return r.a.createElement("div",{style:{display:"flex",flexDirection:"column",padding:"20px",height:"100%",overflow:"auto"}},r.a.createElement(Ze.a,null,r.a.createElement("h1",null,"Settings")),r.a.createElement(ra,null),r.a.createElement("h4",{style:{marginTop:"15px"}},"Theme Picker"),r.a.createElement(Ze.a,null,r.a.createElement(ea,{themes:e})),r.a.createElement("h4",{style:{marginTop:"15px"}},"Sidebar settings"),r.a.createElement(Ze.a,null,r.a.createElement(na,null)),r.a.createElement("div",{style:{flex:1}}),r.a.createElement(Ze.a,null,r.a.createElement(Ne.a,{md:24},r.a.createElement(q.a,null))),r.a.createElement(Ze.a,null,r.a.createElement(Ne.a,{xs:24,md:8,mdOffset:8},r.a.createElement(Y.a,{id:"logoutButton",appearance:"primary",onClick:this.onLogOut,block:!0,size:"lg"},"Log out"))))}}]),t}(r.a.Component),oa={logout:function(){return localStorage.clear(),{type:y.u}}},la=Object(m.b)(null,oa)(sa);function ia(e){return ca.apply(this,arguments)}function ca(){return(ca=Object(h.a)(g.a.mark(function e(t){var n,a;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(n=[],a=0;a<t.songCount;)n.push([a]),a+=500;return e.abrupt("return",Promise.all(n.map(function(e){return S.getSongsByGenre(t.value,e)})).then(function(e){return e.reduce(function(e,t){return e.concat(t)},[])}));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}var ua=function(e){return{type:y.p,payload:{songs:e}}};var da=[Nt.columns.title,Nt.columns.artist,Nt.columns.album,Nt.columns.duration,Nt.columns.bitRate,Nt.columns.download,Nt.columns.selectable];function ma(e){var t=e.genre,n=e.loadSongsOfGenre,s=e.songs,o=Object(Je.a)(e,["genre","loadSongsOfGenre","songs"]);return Object(a.useEffect)(function(){null!==t&&n(t)},[t,n]),r.a.createElement(Kt,Object.assign({},o,{songs:s,columns:da,fixedHeightToFill:!0,withPlaylistDropdown:!0,sortable:!0}))}ma.defaultProps={genre:null,loadSongsOfGenre:function(){return null},songs:[]};var pa={loadSongsOfGenre:function(e){return function(){var t=Object(h.a)(g.a.mark(function t(n){var a;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n(w()),t.prev=1,t.next=4,ia(e);case 4:a=t.sent,n(ua(a)),n(C()),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),console.error(t.t0),n(P("Unable to load genre"));case 13:case"end":return t.stop()}},t,null,[[1,9]])}));return function(e){return t.apply(this,arguments)}}()}},fa=Object(m.b)(function(e,t){return{songs:Et(e,t)}},pa)(ma);var ga=function(e){var t=Object(a.useState)({}),n=Object(We.a)(t,2),s=n[0],o=n[1];return r.a.createElement("div",{style:{display:"flex",flexFlow:"column",height:"100%",width:"100%",padding:"20px"}},r.a.createElement("div",{style:{display:"inline-flex",flexWrap:"wrap",alignItems:"center"}},r.a.createElement(Ne.a,{sm:24,md:18},r.a.createElement(Zt,{style:{fontWeight:"bold"}},"Genres")),r.a.createElement(Ne.a,{sm:24,md:6},r.a.createElement(dt,{style:{height:"fit-content",flexGrow:1},displaySongCount:!0,onGenreChanged:o,placement:"bottomEnd",block:!0}))),r.a.createElement("div",{style:{display:"flex",flex:1}},r.a.createElement(fa,{style:{width:"100%"},genre:s})))},ha=(n(590),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).onCreatePlaylist=function(){n.setState({showModal:!0})},n.onClosePlaylistModal=function(){n.setState({showModal:!1})},n.state={showModal:!1},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.loadPlaylists()}},{key:"render",value:function(){return r.a.createElement(U.a,{style:{display:"flex",height:"100vh",flexDirection:"column"}},r.a.createElement(F.a,{className:"rs-hidden-lg rs-hidden-md"},r.a.createElement(se,{id:"mobileNavbar",onCreatePlaylistTrigger:this.onCreatePlaylist})),r.a.createElement(xe,{id:"loader",isLoading:this.props.asyncTasksInProgress>0}),r.a.createElement(U.a,{style:{flex:1,overflow:"auto"}},r.a.createElement(R.a,{className:"rs-hidden-xs rs-hidden-sm"},r.a.createElement(te,{id:"sidebar",onCreatePlaylistTrigger:this.onCreatePlaylist})),r.a.createElement(G.a,{className:"main-content",style:{overflow:"auto"}},r.a.createElement(p.c,{style:{height:"100%"}},r.a.createElement(Hn,{path:"/latest",default:!0}),r.a.createElement(Ke,{path:"/artists"}),r.a.createElement(nn,{path:"/artists/:artistId"}),r.a.createElement(ht,{path:"/album"}),r.a.createElement(sn,{path:"/album/:albumId"}),r.a.createElement(Sn,{path:"/playlist/:playlistId"}),r.a.createElement(Tn,{path:"/search"}),r.a.createElement(Ln,{path:"/favourites"}),r.a.createElement(Rn,{path:"/queue"}),r.a.createElement(la,{path:"/settings"}),r.a.createElement(ga,{path:"/genres"})))),r.a.createElement(B.a,null,r.a.createElement(je,null)),r.a.createElement(xn,{id:"createPlaylistModal",showModal:this.state.showModal,onClosePlaylistModal:this.onClosePlaylistModal}),r.a.createElement(Bn,null))}}]),t}(r.a.Component)),ya={loadPlaylists:function(){return function(){var e=Object(h.a)(g.a.mark(function e(t){var n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(w()),e.prev=1,e.next=4,S.getPlaylists();case 4:n=e.sent,t(A(n)),t(C()),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0),t(P(e.t0.message));case 13:case"end":return e.stop()}},e,null,[[1,9]])}));return function(t){return e.apply(this,arguments)}}()}};ha.defaultProps={asyncTasksInProgress:0};var ba=Object(m.b)(function(e){return{asyncTasksInProgress:e.asyncTasksInProgress}},ya)(ha),va=n(320),Ea=n.n(va),Sa=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.isAuthenticated||this.props.lazyLoginUser&&this.props.lazyLoginUser()}},{key:"render",value:function(){var e=r.a.createElement("div",{id:"loading",style:{height:"100vh",display:"flex"}},r.a.createElement(et.a,{style:{margin:"auto"},size:"lg",content:"Loading...",vertical:!0}));return r.a.createElement("div",null,!0===this.props.isAuthenticating?e:!0===this.props.isAuthenticated?this.props.children:r.a.createElement(p.b,{to:"/login",noThrow:!0}))}}]),t}(r.a.Component);Sa.defaultProps={isAuthenticated:!1,isAuthenticating:!1};var Oa={lazyLoginUser:Vn},ja=Object(m.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated,isAuthenticating:e.auth.isAuthenticating}},Oa)(Sa),ka=n(644),xa=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).onUserDataChange=function(e){n.user=e},n.login=function(){var e=!0,t=null;n.user.host||(e=!1,t="Required");var a=null;n.user.username||(e=!1,a="Required");var r=null;n.user.password||(e=!1,r="Required"),n.setState({hostErrorMessage:t,userErrorMessage:a,passwordErrorMessage:r}),e&&n.props.loginUser(n.user.host,n.user.username,n.user.password)},n.user={},n.state={hostErrorMessage:null,userErrorMessage:null,passwordErrorMessage:null},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.isAuthenticated?Object(p.d)("/latest",{replace:!0}):this.props.lazyLoginUser&&this.props.lazyLoginUser()}},{key:"componentDidUpdate",value:function(e){e.isAuthenticating&&!this.props.isAuthenticating&&(this.props.isAuthenticated?Object(p.d)("/latest",{replace:!0}):this.props.statusText&&rt.a.error(this.props.statusText,3e3))}},{key:"render",value:function(){return r.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"}},r.a.createElement(Yt.a,{bordered:!0,shaded:!0},r.a.createElement(dn.a,{onChange:this.onUserDataChange,onSubmit:this.login},r.a.createElement(mn.a,null,r.a.createElement(pn.a,null,"Host"),r.a.createElement(On.a,{name:"host",type:"url",errorMessage:this.state.hostErrorMessage,errorPlacement:"bottomStart"}),r.a.createElement(ka.a,null,"http://HOST:PORT")),r.a.createElement(mn.a,null,r.a.createElement(pn.a,null,"Username"),r.a.createElement(On.a,{name:"username",errorMessage:this.state.userErrorMessage,errorPlacement:"bottomStart"})),r.a.createElement(mn.a,null,r.a.createElement(pn.a,null,"Password"),r.a.createElement(On.a,{name:"password",type:"password",errorMessage:this.state.passwordErrorMessage,errorPlacement:"bottomStart"})),r.a.createElement(mn.a,null,r.a.createElement(Y.a,{type:"submit",appearance:"primary",loading:this.state.isAuthenticating,block:!0},"Log In")))))}}]),t}(r.a.Component);xa.defaultProps={isAuthenticated:!1,isAuthenticating:!1,statusText:null,loginUser:function(){return null}};var wa={loginUser:zn,lazyLoginUser:Vn},Ca=Object(m.b)(function(e){return{isAuthenticating:e.auth.isAuthenticating,isAuthenticated:e.auth.isAuthenticated,statusText:e.auth.statusText}},wa)(xa),Ia=function(){return r.a.createElement("p",null,"404! Sorry, nothing here")},Pa=Ea()();Zn(localStorage.getItem("theme")||"darkOrange"),o.a.render(r.a.createElement(function(e){return r.a.createElement(m.a,{store:Pa},r.a.createElement(p.c,null,r.a.createElement(Ia,{default:!0}),r.a.createElement(Ca,{path:"/login"}),r.a.createElement(ja,{path:"/"},r.a.createElement(ba,{default:!0}))))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},608:function(e,t,n){"use strict";n.r(t);var a,r=n(78),s=n(10),o=n(7),l={asyncTasksInProgress:0,alert:{},artists:{byIndex:[],byId:{}},albums:{byId:{}},playlists:{byId:{}},favourites:[],songs:{byId:{}},musicPlayer:{queue:[],original:[],songsById:{},currentSongIndex:null,currentSongId:null,isShuffleOn:n(29).c()},auth:{isAuthenticated:!1,isAuthenticating:!0,statusText:null},search:{albums:[],artists:[],songs:[],songsById:{}}},i=n(45),c=n(8);function u(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,a=arguments.length>1?arguments[1]:void 0,r=t[a.type];return r?r(n,a.payload):n}}function d(e,t){return t[e.id]=e,t}function m(e){return e.reduce(function(e,t){return d(t,e)},{})}function p(e,t,n,a){var r=e;return r[t][n]&&(r=Object(c.a)({},r,Object(s.a)({},t,Object(c.a)({},r[t],Object(s.a)({},n,Object(c.a)({},r[t][n],{starred:a})))))),r}function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=e[0]&&e[0].id?function(e){return e.id}:function(e){return e},r=e.reduce(function(e,r){n&&n(r);var s=a(r);return s!==t?e.concat(s):e},[]);return r.sort(function(){return Math.random()-.5}),t?[t].concat(Object(i.a)(r)):r}function g(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=!1,r=e[0]&&e[0].id?function(e){return e.id}:function(e){return e};return e.reduce(function(e,s){n&&n(s);var o=r(s);return t&&!a?o===t?(a=!0,e.concat(o)):e:e.concat(o)},[])}var h,y,b,v=u(l.asyncTasksInProgress,(a={},Object(s.a)(a,o.c,function(e,t){return e+1}),Object(s.a)(a,o.g,function(e,t){return e-1}),a)),E=u(l.artists,(h={},Object(s.a)(h,o.k,function(e,t){return Object(c.a)({},e,{byIndex:t.artistsIndex})}),Object(s.a)(h,o.m,function(e,t){var n=t.artist.album.map(function(e){return e.id});return Object(c.a)({},e,{byId:Object(s.a)({},t.artist.id,Object(c.a)({},t.artist,{album:n}))})}),Object(s.a)(h,o.u,function(e,t){return l.artists}),h)),S=n(44),O=n(70),j=u(l.playlists,(y={},Object(s.a)(y,o.n,function(e,t){for(var n={},a=0;a<t.playlists.length;a++){var r=t.playlists[a];(r=Object(c.a)({},r,e.byId[r.id])).isMine=Object(O.c)(r.owner),r.songs||(r.songs=[]),n[r.id]=r}return Object(c.a)({},e,{byId:Object(c.a)({},e.byId,n)})}),Object(s.a)(y,o.a,function(e,t){var n=t.songsAdded;return Object(c.a)({},e,{byId:Object(c.a)({},e.byId,Object(s.a)({},t.playlist.id,Object(c.a)({},t.playlist,{songCount:t.playlist.songCount+n.length,duration:t.playlist.duration+Object(O.a)(t.songsAdded),songs:e.byId[t.playlist.id].songs.concat(n.map(function(e){return e.id}))})))})}),Object(s.a)(y,o.y,function(e,t){var n=t.playlist,a=t.removedSongs.map(function(e){return e.id});return Object(c.a)({},e,{byId:Object(c.a)({},e.byId,Object(s.a)({},n.id,Object(c.a)({},n,{songCount:n.songCount-t.removedSongs.length,duration:n.duration-Object(O.a)(t.removedSongs),songs:n.songs.filter(function(e){return!a.includes(e)})})))})}),Object(s.a)(y,o.e,function(e,t){var n=Object(c.a)({},e.byId);return delete n[t.playlist.id],Object(c.a)({},e,{byId:n})}),Object(s.a)(y,o.f,function(e,t){var n=e.byId[t.id];if(n.name!==t.name||n.comment!==t.comment||n.public!==t.public){var a=Object(c.a)({},n,{name:t.name,comment:t.comment,public:t.public});return Object(c.a)({},e,{byId:Object(c.a)({},e.byId,Object(s.a)({},t.id,a))})}return e}),Object(s.a)(y,o.o,function(e,t){var n=t.playlist,a=n.entry,r=Object(S.a)(n,["entry"]);return Object(c.a)({},e,{byId:Object(c.a)({},e.byId,Object(s.a)({},r.id,Object(c.a)({},e.byId[r.id],r,{songs:a.map(function(e){return e.id})})))})}),Object(s.a)(y,o.u,function(e,t){return l.playlists}),y));function k(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=t.reduce(function(e,t){return Object(c.a)({},e,Object(s.a)({},t.id,t))},{}),r=n?a:Object(c.a)({},e.byId,a);return Object(c.a)({},e,{byId:r})}var x,w,C=u(l.songs,(b={},Object(s.a)(b,o.D,function(e,t){var n=e;return t.songIds.filter(function(t){return e.byId[t]}).forEach(function(e){n=p(n,"byId",e,t.starred)}),n}),Object(s.a)(b,o.l,function(e,t){return k(e,t.songs,!0)}),Object(s.a)(b,o.q,function(e,t){return k(e,t.songs,!0)}),Object(s.a)(b,o.p,function(e,t){return k(e,t.songs,!0)}),Object(s.a)(b,o.j,function(e,t){return k(e,t.album.song,!0)}),Object(s.a)(b,o.o,function(e,t){return k(e,t.playlist.entry,!0)}),Object(s.a)(b,o.u,function(e,t){return l.songs}),b)),I=u(l.auth,(x={},Object(s.a)(x,o.s,function(e,t){return Object.assign({},e,{isAuthenticating:!0,statusText:null})}),Object(s.a)(x,o.t,function(e,t){return Object.assign({},e,{isAuthenticating:!1,isAuthenticated:!0,statusText:"You have been successfully logged in."})}),Object(s.a)(x,o.r,function(e,t){return Object.assign({},e,{isAuthenticating:!1,isAuthenticated:!1,statusText:t.statusText})}),Object(s.a)(x,o.u,function(e,t){return Object.assign({},e,{isAuthenticated:!1,statusText:"You have been successfully logged out."})}),Object(s.a)(x,o.h,function(e,t){return Object.assign({},e,{isAuthenticating:!1})}),x)),P=u(l.search,(w={},Object(s.a)(w,o.A,function(e,t){return{albums:t.album,artists:t.artist,songs:t.song?t.song.map(function(e){return e.id}):[],songsById:t.song?m(t.song):{}}}),Object(s.a)(w,o.D,function(e,t){var n=e;return t.songIds.filter(function(t){return e.songsById[t]}).forEach(function(e){n=p(n,"songsById",e,t.starred)}),n}),Object(s.a)(w,o.u,function(e,t){return l.search}),w));var A,T,_,N=u(l.albums,(A={},Object(s.a)(A,o.j,function(e,t){var n=t.album;return n.song=n.song.map(function(e){return e.id}),Object(c.a)({},e,{byId:Object(c.a)({},e.byId,Object(s.a)({},n.id,n))})}),Object(s.a)(A,o.i,function(e,t){var n=t.albums.reduce(function(e,t){return Object(c.a)(Object(s.a)({},t.id,t),e)},{});return Object(c.a)({},e,{byId:n})}),Object(s.a)(A,o.m,function(e,t){var n={};return t.artist.album.forEach(function(e){n[e.id]=e}),Object(c.a)({},e,{byId:n})}),Object(s.a)(A,o.q,function(e,t){var n=Object(c.a)({},e.byId);return t.songs.forEach(function(e){var t=n[e.albumId];t&&(n=Object(c.a)({},n,Object(s.a)({},e.albumId,Object(c.a)({},t,{song:t.song?t.song.concat(e.id):[e.id]}))))}),Object(c.a)({},e,{byId:n})}),Object(s.a)(A,o.C,function(e,t){var n={};return t.albumIds.forEach(function(a){n[a]=Object(c.a)({},e.byId[a],{starred:t.starred})}),Object(c.a)({},e,{byId:Object(c.a)({},e.byId,n)})}),Object(s.a)(A,o.u,function(e,t){return l.albums}),A)),M=u(l.favourites,(T={},Object(s.a)(T,o.l,function(e,t){return t.songs.map(function(e){return e.id})}),Object(s.a)(T,o.D,function(e,t){return t.starred?e.concat(t.songIds):e.filter(function(e){return!t.songIds.includes(e)})}),Object(s.a)(T,o.u,function(e,t){return l.favourites}),T)),L=u(l.musicPlayer,(_={},Object(s.a)(_,o.F,function(e,t){var n=f(e.original,e.currentSongId);return Object(c.a)({},e,{currentSongIndex:0,isShuffleOn:!0,queue:n})}),Object(s.a)(_,o.E,function(e,t){var n=g(e.original,e.currentSongId);return Object(c.a)({},e,{currentSongIndex:0,isShuffleOn:!1,queue:n})}),Object(s.a)(_,o.B,function(e,t){var n=e.queue.indexOf(t.song.id);return Object(c.a)({},e,{currentSongIndex:-1!==n?n:e.currentSongIndex,currentSongId:-1!==n?t.song.id:e.currentSongId})}),Object(s.a)(_,o.b,function(e,t){var n=t.songs.map(function(e){return e.id}),a=[].concat(Object(i.a)(e.queue),Object(i.a)(n)),r=[].concat(Object(i.a)(e.original),Object(i.a)(n));return Object(c.a)({},e,{currentSongIndex:e.currentSongIndex||0,queue:a,original:r,songsById:Object(c.a)({},e.songsById,m(t.songs))})}),Object(s.a)(_,o.z,function(e,t){var n=t.songs.map(function(e){return e.id}),a=e.queue.filter(function(e){return!n.includes(e)}),r=e.original.filter(function(e){return!n.includes(e)}),s=e.queue[e.currentSongIndex];if(n.includes(s)&&!(null!=e.currentSongIndex&&e.currentSongIndex<a.length))return l.musicPlayer;var o=Object.assign({},e.songsById);return n.forEach(function(e){delete o[e]}),Object(c.a)({},e,{queue:a,original:r,songsById:o})}),Object(s.a)(_,o.x,function(e,t){var n=[],a=[],r={},s=function(e){var t,n;r=d(e,r),t=e,(n=a).push(t.id),a=n},o=t.songToPlay?t.songToPlay.id:null;return n=e.isShuffleOn?f(t.songs,o,s):g(t.songs,o,s),Object(c.a)({},e,{currentSongId:n[0],currentSongIndex:0,queue:n,original:a,songsById:r})}),Object(s.a)(_,o.d,function(e,t){return l.musicPlayer}),Object(s.a)(_,o.v,function(e,t){var n=null!=e.currentSongIndex&&e.currentSongIndex+1<e.queue.length,a=e.currentSongIndex+1;return n?Object(c.a)({},e,{currentSongIndex:a,currentSongId:e.queue[a]}):l.musicPlayer}),Object(s.a)(_,o.w,function(e,t){var n=e.currentSongIndex>0,a=e.currentSongIndex-1;return n?Object(c.a)({},e,{currentSongIndex:a,currentSongId:e.queue[a]}):l.musicPlayer}),Object(s.a)(_,o.D,function(e,t){var n=e;return t.songIds.forEach(function(e){n=p(n,"songsById",e,t.starred)}),n}),Object(s.a)(_,o.u,function(e,t){return l.musicPlayer}),_)),D=Object(r.c)({asyncTasksInProgress:v,artists:E,playlists:j,songs:C,auth:I,search:P,alert:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.alert,a=arguments.length>1?arguments[1]:void 0;return function(e){return e.alert&&e.alert.type&&e.alert.message}(a)?(e=a.alert.type,t=a.alert.message,{id:Date.now(),type:e,message:t}):n},albums:N,favourites:M,musicPlayer:L}),U=n(321);function F(e){return Object(r.d)(D,e,Object(r.a)(U.a))}n.d(t,"default",function(){return F})},611:function(e,t,n){e.exports=n(607)},7:function(e,t,n){"use strict";n.d(t,"k",function(){return a}),n.d(t,"m",function(){return r}),n.d(t,"q",function(){return s}),n.d(t,"n",function(){return o}),n.d(t,"o",function(){return l}),n.d(t,"a",function(){return i}),n.d(t,"y",function(){return c}),n.d(t,"e",function(){return u}),n.d(t,"f",function(){return d}),n.d(t,"b",function(){return m}),n.d(t,"x",function(){return p}),n.d(t,"v",function(){return f}),n.d(t,"w",function(){return g}),n.d(t,"D",function(){return h}),n.d(t,"d",function(){return y}),n.d(t,"z",function(){return b}),n.d(t,"B",function(){return v}),n.d(t,"F",function(){return E}),n.d(t,"E",function(){return S}),n.d(t,"h",function(){return O}),n.d(t,"s",function(){return j}),n.d(t,"r",function(){return k}),n.d(t,"t",function(){return x}),n.d(t,"u",function(){return w}),n.d(t,"c",function(){return C}),n.d(t,"g",function(){return I}),n.d(t,"A",function(){return P}),n.d(t,"j",function(){return A}),n.d(t,"i",function(){return T}),n.d(t,"C",function(){return _}),n.d(t,"l",function(){return N}),n.d(t,"p",function(){return M});var a="LOAD_ARTISTS_INDEX_SUCCESS",r="LOAD_ONE_ARTIST_SUCCESS",s="LOAD_SONGS_OF_ONE_ARTIST_SUCCESS",o="LOAD_PLAYLISTS_SUCCESS",l="LOAD_SINGLE_PLAYLIST_SUCCESS",i="ADD_SONGS_TO_PLAYLIST_RESULT",c="REMOVE_SONGS_FROM_PLAYLIST_RESULT",u="DELETE_PLAYLIST_RESULT",d="EDIT_PLAYLIST_RESULT",m="ADD_SONGS_TO_QUEUE",p="PUT_SONGS_IN_QUEUE",f="PLAY_NEXT_SONG",g="PLAY_PREVIOUS_SONG",h="STAR_SONG_RESULT",y="CLEAR_QUEUE",b="REMOVE_SONGS_FROM_QUEUE",v="SEEK_TO_SONG_IN_QUEUE",E="TOGGLE_SHUFFLE_ON",S="TOGGLE_SHUFFLE_OFF",O="LAZY_LOGIN_IGNORE",j="LOGIN_USER_REQUEST",k="LOGIN_USER_FAILURE",x="LOGIN_USER_SUCCESS",w="LOGOUT_USER",C="BEGIN_ASYNC_OPERATION",I="END_ASYNC_OPERATION",P="SEARCH_RESULT",A="LOAD_ONE_ALBUM_SUCCESS",T="LOAD_ALBUMS_LIST_SUCCESS",_="STAR_ALBUM_RESULT",N="LOAD_FAVOURITES_RESULT",M="LOAD_SONGS_OF_GENRE_SUCCESS"},70:function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"d",function(){return s}),n.d(t,"b",function(){return o}),n.d(t,"a",function(){return l});var a=n(45);function r(e){return e===localStorage.getItem("username")}function s(e,t,n){return new Promise(function(r,s){var o=Object(a.a)(e);o.sort(function(e,a){var r=e[t].toUpperCase(),s=a[t].toUpperCase();return r<s?"asc"===n?-1:1:r>s?"asc"===n?1:-1:0}),r(o)})}function o(e,t){return new Promise(function(n,a){if(t){var r=t.toUpperCase();n(e.filter(function(e){return-1!==e.title.toUpperCase().indexOf(r)||-1!==e.artist.toUpperCase().indexOf(r)||-1!==e.album.toUpperCase().indexOf(r)}))}else n(e)})}function l(e){return e.reduce(function(e,t){return{duration:e.duration+t.duration}},{duration:0}).duration}}}]);
//# sourceMappingURL=1.2335cb9d.chunk.js.map